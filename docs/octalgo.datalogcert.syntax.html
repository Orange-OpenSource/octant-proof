<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>octalgo.datalogcert.syntax</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">octalgo.datalogcert.syntax</h1>

<div class="code">
</div>

<div class="doc">
                                                                                                             The DatalogCert Library                                                                                                                           CNRS &amp; Université Paris-Sud, Université Paris-Saclay                                                                                                                         Copyright 2016-2019 : FormalData                                                                                                                   Original authors: Véronique Benzaken                                                               Évelyne Contejean                                                                Stefania Dumbrava                                                                                                                      
<div class="paragraph"> </div>

 This is the first part of the original file "pengine.v" with some modifications 
</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.third_party.bigop_aux.html#"><span class="id" title="library">bigop_aux</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.octalgo.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
</div>

<div class="doc">
Added 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.octalgo.finseqs.html#"><span class="id" title="library">finseqs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab52"></a><h1 class="section">Standard Datalog in Coq</h1>


<div class="paragraph"> </div>

We define the *syntax* and *model-theoretic semantics*, as well as a bottom-up fixpoint evaluation
engine, for standard Datalog. The syntactic primitives of the language are terms (constants or variables),
atoms, clauses and programs. Semantically, *interpretations* (ground atom sets) are the main building blocks.
The bottom-up engine iteratively extends an initial seed substitution into one that matches all clause body atoms to an
existing interpretations (candidate model) and provably grounds the corresponding clause head, i.e, instantiates all of
its variables. To ease the proof-engineering effort, we distinguish between ground and non-ground constructs.
As such, we define corresponding separate types, both for the language primitives and for substitutions (we call
grounding substitutions "groundings"). 
<div class="paragraph"> </div>

 maximal number of program variables 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a name="n"><span class="id" title="axiom">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
</div>

<div class="doc">
program signature: constants and symbols as finite types and arities as finitely-supported functions 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a name="constype"><span class="id" title="axiom">constype</span></a> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>
<span class="id" title="keyword">Parameter</span> <a name="symtype"><span class="id" title="axiom">symtype</span></a> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.finType"><span class="id" title="abbreviation">finType</span></a>.<br/>
<span class="id" title="keyword">Parameter</span> <a name="arity"><span class="id" title="axiom">arity</span></a> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">ffun</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#symtype"><span class="id" title="axiom">symtype</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab53"></a><h2 class="section">Hypothesis added for the development</h2>
 max size for rule bodies 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a name="bn"><span class="id" title="axiom">bn</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab54"></a><h2 class="section">Predicate kinds</h2>
 Kind of a predicate. A predicate is either extensional or intensional 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="pred_type"><span class="id" title="inductive">pred_type</span></a> := <a name="Edb"><span class="id" title="constructor">Edb</span></a> | <a name="Idb"><span class="id" title="constructor">Idb</span></a>.<br/>

<br/>
</div>

<div class="doc">
Decidable equality on pred kind 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="pred_type_eq"><span class="id" title="definition">pred_type_eq</span></a> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#pred_type"><span class="id" title="inductive">pred_type</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a>,<a class="idref" href="octalgo.datalogcert.syntax.html#y"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="octalgo.datalogcert.syntax.html#Edb"><span class="id" title="constructor">Edb</span></a>,<a class="idref" href="octalgo.datalogcert.syntax.html#Edb"><span class="id" title="constructor">Edb</span></a> | <a class="idref" href="octalgo.datalogcert.syntax.html#Idb"><span class="id" title="constructor">Idb</span></a>,<a class="idref" href="octalgo.datalogcert.syntax.html#Idb"><span class="id" title="constructor">Idb</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
pred_type_eq is an equality 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="pred_type_eq_axiom"><span class="id" title="lemma">pred_type_eq_axiom</span></a> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.axiom"><span class="id" title="definition">Equality.axiom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#pred_type_eq"><span class="id" title="definition">pred_type_eq</span></a>.<br/>

<br/>
</div>

<div class="doc">
From which we derive an Equality mixin 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="pred_type_eqMixin"><span class="id" title="definition">pred_type_eqMixin</span></a> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqMixin"><span class="id" title="abbreviation">EqMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#pred_type_eq_axiom"><span class="id" title="lemma">pred_type_eq_axiom</span></a>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">pred_type_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#pred_type"><span class="id" title="inductive">pred_type</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#pred_type_eqMixin"><span class="id" title="definition">pred_type_eqMixin</span></a>.<br/>

<br/>
</div>

<div class="doc">
Predicate symbols have a kind 
</div>
<div class="code">
<span class="id" title="keyword">Parameter</span> <a name="predtype"><span class="id" title="axiom">predtype</span></a> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">ffun</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#symtype"><span class="id" title="axiom">symtype</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#pred_type"><span class="id" title="inductive">pred_type</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab55"></a><h2 class="section">Constants</h2>
 A constant 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="constant"><span class="id" title="inductive">constant</span></a> := <a name="C"><span class="id" title="constructor">C</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="octalgo.datalogcert.syntax.html#constype"><span class="id" title="axiom">constype</span></a>.<br/>
</div>

<div class="doc">
Extract the value of a constant
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="of_constant"><span class="id" title="definition">of_constant</span></a> <span class="id" title="var">c</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#C"><span class="id" title="constructor">C</span></a> <span class="id" title="var">c</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="octalgo.datalogcert.syntax.html#c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
</div>

<div class="doc">
instances for the type of constants 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cons_subType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#685b4c9ab7ccde70d9229dfbdb93d490"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#685b4c9ab7ccde70d9229dfbdb93d490"><span class="id" title="notation">newType</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#685b4c9ab7ccde70d9229dfbdb93d490"><span class="id" title="notation">for</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#of_constant"><span class="id" title="definition">of_constant</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#685b4c9ab7ccde70d9229dfbdb93d490"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cons_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">eqMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cons_choiceType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">choiceMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">&lt;:]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cons_countType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Countable.Exports.CountType"><span class="id" title="abbreviation">CountType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">countMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">&lt;:]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cons_subCountType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#9bbd910cbebcec91f8279b0711b4702d"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#9bbd910cbebcec91f8279b0711b4702d"><span class="id" title="notation">subCountType</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#9bbd910cbebcec91f8279b0711b4702d"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#9bbd910cbebcec91f8279b0711b4702d"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cons_finType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.FinType"><span class="id" title="abbreviation">FinType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fede21e6a36088be0833d2600143b39c"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fede21e6a36088be0833d2600143b39c"><span class="id" title="notation">finMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fede21e6a36088be0833d2600143b39c"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fede21e6a36088be0833d2600143b39c"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#fede21e6a36088be0833d2600143b39c"><span class="id" title="notation">&lt;:]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cons_subFinType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">subFinType</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">cons_optionFinType</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#option_finType"><span class="id" title="definition">option_finType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cons_finType"><span class="id" title="definition">cons_finType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <span class="id" title="var">opt_constant</span> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a>) : (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#option_finType"><span class="id" title="definition">option_finType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cons_finType"><span class="id" title="definition">cons_finType</span></a>) := <a class="idref" href="octalgo.datalogcert.syntax.html#c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab56"></a><h2 class="section">Ground raw atoms</h2>
 "raw" ground atoms pack a symbol and an argument list of constants 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="raw_gatom"><span class="id" title="inductive">raw_gatom</span></a> := <a name="RawGAtom"><span class="id" title="constructor">RawGAtom</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="octalgo.datalogcert.syntax.html#symtype"><span class="id" title="axiom">symtype</span></a> &amp; <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a>.<br/>

<br/>
</div>

<div class="doc">
extractors for the corresponding symbols and arguments of a "raw" ground atom 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <span class="id" title="var">ga</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#RawGAtom"><span class="id" title="constructor">RawGAtom</span></a> <span class="id" title="var">s_ga</span> <span class="id" title="var">_</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s_ga</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <span class="id" title="var">ga</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#RawGAtom"><span class="id" title="constructor">RawGAtom</span></a> <span class="id" title="var">_</span> <span class="id" title="var">arg_ga</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">arg_ga</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gatom_eta"><span class="id" title="lemma">gatom_eta</span></a> <span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#RawGAtom"><span class="id" title="constructor">RawGAtom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>) (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>).<br/>
 
<br/>
</div>

<div class="doc">
<a name="lab57"></a><h3 class="section">Ground Atom Instances</h3>
 Ground raw atoms are a finite type 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="RawGAtomInstances"><span class="id" title="section">RawGAtomInstances</span></a>.<br/>

<br/>
</div>

<div class="doc">
packing and unpacking of a "raw" ground atom; needed for the canonical inference of its instances 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="raw_gatom_rep"><span class="id" title="definition">raw_gatom_rep</span></a> <span class="id" title="var">l</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#RawGAtom"><span class="id" title="constructor">RawGAtom</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="raw_gatom_pre"><span class="id" title="definition">raw_gatom_pre</span></a> <span class="id" title="var">l</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="octalgo.datalogcert.syntax.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="octalgo.datalogcert.syntax.html#RawGAtom"><span class="id" title="constructor">RawGAtom</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>.<br/>

<br/>
</div>

<div class="doc">
cancelation lemma for "raw" ground atoms 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="raw_gatom_repK"><span class="id" title="lemma">raw_gatom_repK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom_rep"><span class="id" title="definition">raw_gatom_rep</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom_pre"><span class="id" title="definition">raw_gatom_pre</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
"raw" ground atom instances 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">raw_gatom_eqType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom"><span class="id" title="inductive">raw_gatom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#CanEqMixin"><span class="id" title="definition">CanEqMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom_repK"><span class="id" title="lemma">raw_gatom_repK</span></a>).<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">raw_gatom_choiceType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom"><span class="id" title="inductive">raw_gatom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanChoiceMixin"><span class="id" title="definition">CanChoiceMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom_repK"><span class="id" title="lemma">raw_gatom_repK</span></a>).<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">raw_gatom_countType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Countable.Exports.CountType"><span class="id" title="abbreviation">CountType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom"><span class="id" title="inductive">raw_gatom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanCountMixin"><span class="id" title="definition">CanCountMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom_repK"><span class="id" title="lemma">raw_gatom_repK</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#RawGAtomInstances"><span class="id" title="section">RawGAtomInstances</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab58"></a><h2 class="section">Ground Atoms:</h2>

A ground atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a></span> packs a "raw" ground atom and a boolean well-formedness condition 
<div class="paragraph"> </div>

 ground atom well-formedness condition: argument size and symbol arity have to match 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="wf_gatom"><span class="id" title="definition">wf_gatom</span></a> <span class="id" title="var">ga</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>).<br/>

<br/>
</div>

<div class="doc">
ground atom record 
</div>
<div class="code">
<span class="id" title="keyword">Structure</span> <a name="gatom"><span class="id" title="record">gatom</span></a> : <span class="id" title="keyword">Type</span> := <a name="GAtom"><span class="id" title="constructor">GAtom</span></a> {<a name="uga"><span class="id" title="projection">uga</span></a> :&gt; <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom"><span class="id" title="inductive">raw_gatom</span></a>; <span class="id" title="var">_</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#wf_gatom"><span class="id" title="definition">wf_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#uga"><span class="id" title="method">uga</span></a>}.<br/>

<br/>
</div>

<div class="doc">
ground atom instances 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gatom_subType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c2d02b544d823cdc1e1e08de552cdba4"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c2d02b544d823cdc1e1e08de552cdba4"><span class="id" title="notation">subType</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c2d02b544d823cdc1e1e08de552cdba4"><span class="id" title="notation">for</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#uga"><span class="id" title="projection">uga</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c2d02b544d823cdc1e1e08de552cdba4"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gatom_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">eqMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">&lt;:]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gatom_choiceType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">choiceMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">&lt;:]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gatom_countType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Countable.Exports.CountType"><span class="id" title="abbreviation">CountType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">countMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">&lt;:]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gatom_subCountType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#9bbd910cbebcec91f8279b0711b4702d"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#9bbd910cbebcec91f8279b0711b4702d"><span class="id" title="notation">subCountType</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#9bbd910cbebcec91f8279b0711b4702d"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#9bbd910cbebcec91f8279b0711b4702d"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
Gives back the arguments of the atom as a tuple of the right length
   using the well formedness constraint 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="arg_wf_gatom"><span class="id" title="definition">arg_wf_gatom</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) : (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">).-</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">tuple</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Given an i smaller than the arity gives back the ith argument 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="nth_cons"><span class="id" title="definition">nth_cons</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth"><span class="id" title="definition">tnth</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_wf_gatom"><span class="id" title="definition">arg_wf_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
</div>

<div class="doc">
maximal symbol arity 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="max_ar"><span class="id" title="abbreviation">max_ar</span></a> := (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#ec60518d5ab0e853ea27ade01a2f345b"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#ec60518d5ab0e853ea27ade01a2f345b"><span class="id" title="notation">max_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#ec60518d5ab0e853ea27ade01a2f345b"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#ec60518d5ab0e853ea27ade01a2f345b"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#symtype"><span class="id" title="axiom">symtype</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.bigop.html#ec60518d5ab0e853ea27ade01a2f345b"><span class="id" title="notation">)</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="max_ar_bound"><span class="id" title="lemma">max_ar_bound</span></a> <span class="id" title="var">y</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#max_ar"><span class="id" title="abbreviation">max_ar</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
Ground atoms are a finite type (uses the max arity) 
</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="GatomFinType"><span class="id" title="section">GatomFinType</span></a>.<br/>

<br/>
</div>

<div class="doc">
corresponding finite type for ground atoms, packing a symbol type and a tuple of constants
    of length bounded by the maximal symbol arity 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="gatom_enc"><span class="id" title="abbreviation">gatom_enc</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#max_ar"><span class="id" title="abbreviation">max_ar</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#symtype"><span class="id" title="axiom">symtype</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">.-</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">tuple</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a>)%<span class="id" title="keyword">type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>).<br/>

<br/>
</div>

<div class="doc">
injecting a ground atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> into its corresponding finite type encoding <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#gatom_enc"><span class="id" title="abbreviation">gatom_enc</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gatom_fenc"><span class="id" title="definition">gatom_fenc</span></a> (<span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom_enc"><span class="id" title="abbreviation">gatom_enc</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#GAtom"><span class="id" title="constructor">GAtom</span></a> <span class="id" title="var">ga</span> <span class="id" title="var">proof</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a> <span class="id" title="tactic">in</span><br/>
<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#max_ar_bound"><span class="id" title="lemma">max_ar_bound</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#Tuple"><span class="id" title="constructor">Tuple</span></a> <span class="id" title="var">proof</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
conversely converting a ground atom finite type encoding <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#gatom_enc"><span class="id" title="abbreviation">gatom_enc</span></a></span> into a ground atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fenc_gatom"><span class="id" title="definition">fenc_gatom</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom_enc"><span class="id" title="abbreviation">gatom_enc</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>

<div class="doc">
partial cancelation lemma for ground atoms 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fenc_gatomK"><span class="id" title="lemma">fenc_gatomK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#pcancel"><span class="id" title="definition">pcancel</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom_fenc"><span class="id" title="definition">gatom_fenc</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#fenc_gatom"><span class="id" title="definition">fenc_gatom</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#GatomFinType"><span class="id" title="section">GatomFinType</span></a>.<br/>

<br/>
</div>

<div class="doc">
canonical instances for ground atoms 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gatom_finType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.FinType"><span class="id" title="abbreviation">FinType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#PcanFinMixin"><span class="id" title="definition">PcanFinMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#fenc_gatomK"><span class="id" title="lemma">fenc_gatomK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gatom_subFinType</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">subFinType</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can access the ith argument of a gatom with predicate whose
  arity is greater than i 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="oob_gatom_args"><span class="id" title="lemma">oob_gatom_args</span></a> (<span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) (<span class="id" title="var">ind</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>)<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a>) : <br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.octalgo.utils.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab59"></a><h2 class="section">Ground Clauses:</h2>

A ground clause <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#gclause"><span class="id" title="inductive">gclause</span></a></span> packs a ground atom head and a body list of ground atoms  *Important:* Our definition differs from the original one to keep a bound on the size of bodies 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="gclause"><span class="id" title="inductive">gclause</span></a> := <a name="GClause"><span class="id" title="constructor">GClause</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a> &amp; <a class="idref" href="octalgo.octalgo.finseqs.html#wlistn_finType"><span class="id" title="definition">wlistn_finType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom_finType"><span class="id" title="definition">gatom_finType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#bn"><span class="id" title="axiom">bn</span></a>.<br/>

<br/>
</div>

<div class="doc">
head and body extractors for ground clauses 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="head_gcl"><span class="id" title="definition">head_gcl</span></a> <span class="id" title="var">gcl</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#GClause"><span class="id" title="constructor">GClause</span></a> <span class="id" title="var">h</span> <span class="id" title="var">b</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#gcl"><span class="id" title="variable">gcl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="body_gcl"><span class="id" title="definition">body_gcl</span></a> <span class="id" title="var">gcl</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#GClause"><span class="id" title="constructor">GClause</span></a> <span class="id" title="var">h</span> <span class="id" title="var">b</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#gcl"><span class="id" title="variable">gcl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab60"></a><h2 class="section">Canonical instances for ground clauses (Added)</h2>
 Boolean equality on clauses 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gclause_eq"><span class="id" title="definition">gclause_eq</span></a> <span class="id" title="var">gcl1</span> <span class="id" title="var">gcl2</span> := <span class="id" title="keyword">match</span> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl1"><span class="id" title="variable">gcl1</span></a>,<a class="idref" href="octalgo.datalogcert.syntax.html#gcl2"><span class="id" title="variable">gcl2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="octalgo.datalogcert.syntax.html#GClause"><span class="id" title="constructor">GClause</span></a> <span class="id" title="var">h1</span> <span class="id" title="var">l1</span>, <a class="idref" href="octalgo.datalogcert.syntax.html#GClause"><span class="id" title="constructor">GClause</span></a> <span class="id" title="var">h2</span> <span class="id" title="var">l2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><span class="id" title="var">h1</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">h2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gclause_eq_refl"><span class="id" title="lemma">gclause_eq_refl</span></a> <span class="id" title="var">gcl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_eq"><span class="id" title="definition">gclause_eq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl"><span class="id" title="variable">gcl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl"><span class="id" title="variable">gcl</span></a>.<br/>

<br/>
</div>

<div class="doc">
This is indeed an equality for clauses 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="gclause_eq_inv"><span class="id" title="lemma">gclause_eq_inv</span></a> <span class="id" title="var">gcl1</span> <span class="id" title="var">gcl2</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_eq"><span class="id" title="definition">gclause_eq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl1"><span class="id" title="variable">gcl1</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl2"><span class="id" title="variable">gcl2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl1"><span class="id" title="variable">gcl1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl2"><span class="id" title="variable">gcl2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gclause_eq_axiom"><span class="id" title="lemma">gclause_eq_axiom</span></a> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.axiom"><span class="id" title="definition">Equality.axiom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_eq"><span class="id" title="definition">gclause_eq</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="gclause_eqMixin"><span class="id" title="definition">gclause_eqMixin</span></a> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqMixin"><span class="id" title="abbreviation">EqMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_eq_axiom"><span class="id" title="lemma">gclause_eq_axiom</span></a>.<br/>

<br/>
</div>

<div class="doc">
Definition of the equality type 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gclause_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <span class="id" title="var">_</span> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_eqMixin"><span class="id" title="definition">gclause_eqMixin</span></a>.<br/>

<br/>
</div>

<div class="doc">
Projection of the clause to a pair head, body list 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gclause_rep"><span class="id" title="definition">gclause_rep</span></a> <span class="id" title="var">cl</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#GClause"><span class="id" title="constructor">GClause</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">bd</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">bd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="gclause_pre"><span class="id" title="definition">gclause_pre</span></a> <span class="id" title="var">cl</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">bd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="octalgo.datalogcert.syntax.html#GClause"><span class="id" title="constructor">GClause</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">bd</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="gclause_repK"><span class="id" title="lemma">gclause_repK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_rep"><span class="id" title="definition">gclause_rep</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_pre"><span class="id" title="definition">gclause_pre</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gclause_choiceType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause"><span class="id" title="inductive">gclause</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanChoiceMixin"><span class="id" title="definition">CanChoiceMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_repK"><span class="id" title="lemma">gclause_repK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gclause_countType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Countable.Exports.CountType"><span class="id" title="abbreviation">CountType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause"><span class="id" title="inductive">gclause</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanCountMixin"><span class="id" title="definition">CanCountMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_repK"><span class="id" title="lemma">gclause_repK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">gclause_finType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.FinType"><span class="id" title="abbreviation">FinType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause"><span class="id" title="inductive">gclause</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#CanFinMixin"><span class="id" title="definition">CanFinMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gclause_repK"><span class="id" title="lemma">gclause_repK</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab61"></a><h2 class="section">Interpretation</h2>
 interpretations are finite sets of ground atoms 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="interp"><span class="id" title="abbreviation">interp</span></a> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">i</span> <span class="id" title="var">m</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#interp"><span class="id" title="abbreviation">interp</span></a>) (<span class="id" title="var">gcl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gclause"><span class="id" title="inductive">gclause</span></a>).<br/>

<br/>
</div>

<div class="doc">
set of all symbols of a given interpretation 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="sym_i"><span class="id" title="definition">sym_i</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#interp"><span class="id" title="abbreviation">interp</span></a>) := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#1e993786ab46c6f2c0d488e43f629b71"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#1e993786ab46c6f2c0d488e43f629b71"><span class="id" title="notation">set</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#uga"><span class="id" title="projection">uga</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#1e993786ab46c6f2c0d488e43f629b71"><span class="id" title="notation">|</span></a> <span class="id" title="var">ga</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#1e993786ab46c6f2c0d488e43f629b71"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#1e993786ab46c6f2c0d488e43f629b71"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
satisfiability of a ground clause <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#gcl"><span class="id" title="variable">gcl</span></a></span> w.r.t a given interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>:
    if all body atoms belong to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, the head should also belong to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gcl_true"><span class="id" title="definition">gcl_true</span></a> <span class="id" title="var">gcl</span> <span class="id" title="var">i</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="octalgo.datalogcert.syntax.html#body_gcl"><span class="id" title="definition">body_gcl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl"><span class="id" title="variable">gcl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#head_gcl"><span class="id" title="definition">head_gcl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gcl"><span class="id" title="variable">gcl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab62"></a><h2 class="section">Terms</h2>
 Terms are either
<ul class="doclist">
<li> variables, i.e, integers bound by a maximal (computable) index <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.completeness.html#Completeness.n"><span class="id" title="variable">n</span></a></span>
<ul class="doclist">
<li> to which we assign the <i>finite</i> ordinal type <span class="inlinecode">'<span class="id" title="var">I_n</span></span>

</li>
</ul>

</li>
<li> constants to which we assign the <i>finite</i> <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#constype"><span class="id" title="axiom">constype</span></a></span>

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="term"><span class="id" title="inductive">term</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><br/>
&nbsp;&nbsp;| <a name="Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a>.<br/>

<br/>
</div>

<div class="doc">
Injection of constants in terms 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="term_of_cons"><span class="id" title="definition">term_of_cons</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a> := <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
</div>

<div class="doc">
corresponding sigma type encoding for terms; needed for canonical instance inference 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="termRep"><span class="id" title="abbreviation">termRep</span></a> := (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a>)%<span class="id" title="keyword">type</span>.<br/>

<br/>
</div>

<div class="doc">
injecting a term <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> into its <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#termRep"><span class="id" title="abbreviation">termRep</span></a></span> encoding 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="term_rep"><span class="id" title="definition">term_rep</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#termRep"><span class="id" title="abbreviation">termRep</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="octalgo.datalogcert.syntax.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="octalgo.datalogcert.syntax.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
converting a <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#termRep"><span class="id" title="abbreviation">termRep</span></a></span> encoding into the corresponding term type  
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="term_con"><span class="id" title="definition">term_con</span></a> (<span class="id" title="var">r</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#termRep"><span class="id" title="abbreviation">termRep</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="octalgo.datalogcert.syntax.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="octalgo.datalogcert.syntax.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c</span> ⇒ <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
cancelation lemma for terms 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="term_repK"><span class="id" title="lemma">term_repK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_rep"><span class="id" title="definition">term_rep</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_con"><span class="id" title="definition">term_con</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
canonical instances for terms 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">term_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#CanEqMixin"><span class="id" title="definition">CanEqMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_repK"><span class="id" title="lemma">term_repK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">term_choiceType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanChoiceMixin"><span class="id" title="definition">CanChoiceMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_repK"><span class="id" title="lemma">term_repK</span></a>).<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">term_countType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Countable.Exports.CountType"><span class="id" title="abbreviation">CountType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanCountMixin"><span class="id" title="definition">CanCountMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_repK"><span class="id" title="lemma">term_repK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">term_finType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.FinType"><span class="id" title="abbreviation">FinType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#CanFinMixin"><span class="id" title="definition">CanFinMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_repK"><span class="id" title="lemma">term_repK</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab63"></a><h2 class="section">Raw atoms</h2>
 Atoms are represented as records packing:
<ul class="doclist">
<li> a base type <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom"><span class="id" title="inductive">raw_atom</span></a></span>
<ul class="doclist">
<li> which pairs a symbol with its term list argument

</li>
</ul>

</li>
<li> a <i>boolean</i> well-formedness condition <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#wf_atom"><span class="id" title="definition">wf_atom</span></a></span>
<ul class="doclist">
<li> which ensures symbol arity and argument size agree 
</li>
</ul>

</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="raw_atom"><span class="id" title="inductive">raw_atom</span></a> : <span class="id" title="keyword">Type</span> := <a name="RawAtom"><span class="id" title="constructor">RawAtom</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="octalgo.datalogcert.syntax.html#symtype"><span class="id" title="axiom">symtype</span></a> &amp; <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>.<br/>

<br/>
</div>

<div class="doc">
Inject raw ground atoms in raw atoms
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="to_raw_atom"><span class="id" title="definition">to_raw_atom</span></a> <span class="id" title="var">gra</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gra"><span class="id" title="variable">gra</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">x</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gra"><span class="id" title="variable">gra</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="RawAtomInstances"><span class="id" title="section">RawAtomInstances</span></a>.<br/>

<br/>
</div>

<div class="doc">
packing and unpacking of raw atoms 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="raw_atom_rep"><span class="id" title="definition">raw_atom_rep</span></a> <span class="id" title="var">l</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="raw_atom_pre"><span class="id" title="definition">raw_atom_pre</span></a> <span class="id" title="var">l</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="octalgo.datalogcert.syntax.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span>.<br/>

<br/>
</div>

<div class="doc">
cancelation lemma for raw atoms 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="raw_atom_repK"><span class="id" title="lemma">raw_atom_repK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_rep"><span class="id" title="definition">raw_atom_rep</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_pre"><span class="id" title="definition">raw_atom_pre</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
canonical instances for raw atoms 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">raw_atom_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom"><span class="id" title="inductive">raw_atom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#CanEqMixin"><span class="id" title="definition">CanEqMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_repK"><span class="id" title="lemma">raw_atom_repK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">raw_atom_choiceType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom"><span class="id" title="inductive">raw_atom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanChoiceMixin"><span class="id" title="definition">CanChoiceMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_repK"><span class="id" title="lemma">raw_atom_repK</span></a>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">raw_atom_countType</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Countable.Exports.CountType"><span class="id" title="abbreviation">CountType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom"><span class="id" title="inductive">raw_atom</span></a> (@<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanCountMixin"><span class="id" title="definition">CanCountMixin</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#prod_countType"><span class="id" title="definition">prod_countType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#symtype"><span class="id" title="axiom">symtype</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#seq_countType"><span class="id" title="definition">seq_countType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_finType"><span class="id" title="definition">term_finType</span></a>)) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_repK"><span class="id" title="lemma">raw_atom_repK</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#RawAtomInstances"><span class="id" title="section">RawAtomInstances</span></a>.<br/>

<br/>
</div>

<div class="doc">
extractors for the corresponding symbols and arguments of an atom 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="sym_atom"><span class="id" title="definition">sym_atom</span></a> <span class="id" title="var">a</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> <span class="id" title="var">s_a</span> <span class="id" title="var">_</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s_a</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="arg_atom"><span class="id" title="definition">arg_atom</span></a> <span class="id" title="var">a</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> <span class="id" title="var">_</span> <span class="id" title="var">arg_a</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">arg_a</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab64"></a><h2 class="section">Atoms</h2>
 atom well-formedness condition: argument size and symbol arity must match 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="wf_atom"><span class="id" title="definition">wf_atom</span></a> <span class="id" title="var">a</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab65"></a><h2 class="section">Atoms are records packing a "raw" atom and a corresponding boolean well-formedness condition</h2>

</div>
<div class="code">
<span class="id" title="keyword">Structure</span> <a name="atom"><span class="id" title="record">atom</span></a> : <span class="id" title="keyword">Type</span> := <a name="Atom"><span class="id" title="constructor">Atom</span></a> {<a name="ua"><span class="id" title="projection">ua</span></a> :&gt; <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom"><span class="id" title="inductive">raw_atom</span></a>; <span class="id" title="var">_</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#wf_atom"><span class="id" title="definition">wf_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ua"><span class="id" title="method">ua</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab66"></a><h3 class="section">A few useful lemmas and auxiliary functions</h3>
 Preservation of well formedness by the translation to raw atom 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="to_atom_proof"><span class="id" title="lemma">to_atom_proof</span></a> (<span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#wf_atom"><span class="id" title="definition">wf_atom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#to_raw_atom"><span class="id" title="definition">to_raw_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>).<br/>
 
<br/>
</div>

<div class="doc">
Translates ground atom to atom using lemma above 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="to_atom"><span class="id" title="definition">to_atom</span></a> <span class="id" title="var">ga</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#Atom"><span class="id" title="constructor">Atom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#to_atom_proof"><span class="id" title="lemma">to_atom_proof</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>).<br/>

<br/>
</div>

<div class="doc">
Extract the args as a tuple from an atom 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="arg_wf_atom"><span class="id" title="definition">arg_wf_atom</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) : (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">).-</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">tuple</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Given an atom and i smaller than the arity, gets the ith arg 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="nth_term"><span class="id" title="definition">nth_term</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#tnth"><span class="id" title="definition">tnth</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_wf_atom"><span class="id" title="definition">arg_wf_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
</div>

<div class="doc">
Given a predicate and a ground atom having this pred, access one
   argument of this ground atom (using dependent type on arity) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="nth_cons_rew_dep"><span class="id" title="definition">nth_cons_rew_dep</span></a> <span class="id" title="var">pred</span> (<span class="id" title="var">ga</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">{</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">:</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">|</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#pred"><span class="id" title="variable">pred</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#6556914db359db999889decec6a4a562"><span class="id" title="notation">}</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#pred"><span class="id" title="variable">pred</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
We can access the ith argument of an atom with predicate whose
  arity is greater than i 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="oob_atom_args"><span class="id" title="lemma">oob_atom_args</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">ind</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#arity"><span class="id" title="axiom">arity</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>)<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a>) : <a class="idref" href="octalgo.octalgo.utils.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
</div>

<div class="doc">
atom instances 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">atom_subType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c2d02b544d823cdc1e1e08de552cdba4"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c2d02b544d823cdc1e1e08de552cdba4"><span class="id" title="notation">subType</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c2d02b544d823cdc1e1e08de552cdba4"><span class="id" title="notation">for</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ua"><span class="id" title="projection">ua</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c2d02b544d823cdc1e1e08de552cdba4"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">atom_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">eqMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#b361a0fe0b43cea5c506ee5eccc55542"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">atom_choiceType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">choiceMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#035054ba987e1c05f2985518b41ec31f"><span class="id" title="notation">&lt;:]</span></a>.<br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">atom_countType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Countable.Exports.CountType"><span class="id" title="abbreviation">CountType</span></a> <span class="id" title="var">_</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">countMixin</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">by</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#c2a823e7a76d1d303efdd00309d93aca"><span class="id" title="notation">&lt;:]</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab67"></a><h3 class="section">Atoms are a finite type</h3>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="AtomFinType"><span class="id" title="section">AtomFinType</span></a>.<br/>

<br/>
</div>

<div class="doc">
We use as represention the triple with
<ul class="doclist">
<li> number of arguments (smaller than max_r) 

</li>
<li> symbol 

</li>
<li> |args|-tuples of terms 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a name="atom_enc"><span class="id" title="abbreviation">atom_enc</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">{</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">:</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#max_ar"><span class="id" title="abbreviation">max_ar</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#bda89d73ec4a8f23ae92b565ffb5aaa6"><span class="id" title="notation">.+1</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">&amp;</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#symtype"><span class="id" title="axiom">symtype</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">.-</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#c3913abe839346eb60d82da74b0b1f67"><span class="id" title="notation">tuple</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_finType"><span class="id" title="definition">term_finType</span></a>)%<span class="id" title="keyword">type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#cc5e56ba3765e2d6b17e66d19b966f1d"><span class="id" title="notation">}</span></a>).<br/>

<br/>
</div>

<div class="doc">
We can inject atom in this encoding 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="atom_fenc"><span class="id" title="definition">atom_fenc</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#atom_enc"><span class="id" title="abbreviation">atom_enc</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#Atom"><span class="id" title="constructor">Atom</span></a> <span class="id" title="var">a</span> <span class="id" title="var">proof</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Ordinal"><span class="id" title="constructor">Ordinal</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#max_ar_bound"><span class="id" title="lemma">max_ar_bound</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.tuple.html#Tuple"><span class="id" title="constructor">Tuple</span></a> <span class="id" title="var">proof</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
We can invert this encoding as long as we respect arity 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fenc_atom"><span class="id" title="definition">fenc_atom</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom_enc"><span class="id" title="abbreviation">atom_enc</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
This is a true injection 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fenc_atomK"><span class="id" title="lemma">fenc_atomK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#pcancel"><span class="id" title="definition">pcancel</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_fenc"><span class="id" title="definition">atom_fenc</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#fenc_atom"><span class="id" title="definition">fenc_atom</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#AtomFinType"><span class="id" title="section">AtomFinType</span></a>.<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">atom_finType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.FinType"><span class="id" title="abbreviation">FinType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#PcanFinMixin"><span class="id" title="definition">PcanFinMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#fenc_atomK"><span class="id" title="lemma">fenc_atomK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">atom_subFinType</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">subFinType</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">of</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ea70e506e168d39ce0ec3d3ecd2c349f"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab68"></a><h2 class="section">Clauses and programs</h2>
 A list of size at most n of atoms (for the body) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="tail"><span class="id" title="definition">tail</span></a> := <a class="idref" href="octalgo.octalgo.finseqs.html#wlistn_finType"><span class="id" title="definition">wlistn_finType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_finType"><span class="id" title="definition">atom_finType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#bn"><span class="id" title="axiom">bn</span></a>.<br/>

<br/>
</div>

<div class="doc">
A clause pack an atom head and a list of at most size n of atoms.
  Our definition differs from the original one 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="clause"><span class="id" title="inductive">clause</span></a> : <span class="id" title="keyword">Type</span> := <a name="Clause"><span class="id" title="constructor">Clause</span></a> <span class="id" title="keyword">of</span> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a> &amp; <a class="idref" href="octalgo.datalogcert.syntax.html#tail"><span class="id" title="definition">tail</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="ClauseInstances"><span class="id" title="section">ClauseInstances</span></a>.<br/>

<br/>
</div>

<div class="doc">
packing and unpacking of clauses 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="clause_rep"><span class="id" title="definition">clause_rep</span></a> <span class="id" title="var">cl</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#Clause"><span class="id" title="constructor">Clause</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">bd</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">bd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="clause_pre"><span class="id" title="definition">clause_pre</span></a> <span class="id" title="var">cl</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">hd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">bd</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="octalgo.datalogcert.syntax.html#Clause"><span class="id" title="constructor">Clause</span></a> <span class="id" title="var">hd</span> <span class="id" title="var">bd</span>.<br/>

<br/>
</div>

<div class="doc">
cancelation lemma for clauses 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="clause_repK"><span class="id" title="lemma">clause_repK</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#cancel"><span class="id" title="definition">cancel</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause_rep"><span class="id" title="definition">clause_rep</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause_pre"><span class="id" title="definition">clause_pre</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
clause instances 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">clause_eqType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#Equality.Exports.EqType"><span class="id" title="abbreviation">EqType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#CanEqMixin"><span class="id" title="definition">CanEqMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause_repK"><span class="id" title="lemma">clause_repK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">clause_choiceType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Choice.Exports.ChoiceType"><span class="id" title="abbreviation">ChoiceType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanChoiceMixin"><span class="id" title="definition">CanChoiceMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause_repK"><span class="id" title="lemma">clause_repK</span></a>).<br/>

<br/>
</div>

<div class="doc">
Added instances using the bound on the size of the body 
</div>
<div class="code">
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">clause_countType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#Countable.Exports.CountType"><span class="id" title="abbreviation">CountType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.choice.html#CanCountMixin"><span class="id" title="definition">CanCountMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause_repK"><span class="id" title="lemma">clause_repK</span></a>).<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="var">clause_finType</span> := <span class="id" title="keyword">Eval</span> <span class="id" title="tactic">hnf</span> <span class="id" title="tactic">in</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#Finite.Exports.FinType"><span class="id" title="abbreviation">FinType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#CanFinMixin"><span class="id" title="definition">CanFinMixin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause_repK"><span class="id" title="lemma">clause_repK</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#ClauseInstances"><span class="id" title="section">ClauseInstances</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab69"></a><h2 class="section">Programs are clause lists.</h2>

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="program"><span class="id" title="definition">program</span></a> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>.<br/>

<br/>
</div>

<div class="doc">
extractors for the corresponding head, body and atoms of a clause 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="head_cl"><span class="id" title="definition">head_cl</span></a> <span class="id" title="var">cl</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#Clause"><span class="id" title="constructor">Clause</span></a> <span class="id" title="var">h</span> <span class="id" title="var">b</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="body_cl"><span class="id" title="definition">body_cl</span></a> <span class="id" title="var">cl</span> := <span class="id" title="keyword">let</span>: <a class="idref" href="octalgo.datalogcert.syntax.html#Clause"><span class="id" title="constructor">Clause</span></a> <span class="id" title="var">h</span> <span class="id" title="var">b</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">b</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="atoms_cl"><span class="id" title="definition">atoms_cl</span></a> <span class="id" title="var">cl</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">[::</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#head_cl"><span class="id" title="definition">head_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
clause head symbols 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hsym_cl"><span class="id" title="definition">hsym_cl</span></a> <span class="id" title="var">cl</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#head_cl"><span class="id" title="definition">head_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>).<br/>

<br/>
</div>

<div class="doc">
all clause symbols 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="sym_cl"><span class="id" title="definition">sym_cl</span></a>  <span class="id" title="var">cl</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">a</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atoms_cl"><span class="id" title="definition">atoms_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
all head symbols of a program 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="hsym_prog"><span class="id" title="definition">hsym_prog</span></a>  <span class="id" title="var">p</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#hsym_cl"><span class="id" title="definition">hsym_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">cl</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
all program symbols 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="sym_prog"><span class="id" title="definition">sym_prog</span></a>   <span class="id" title="var">p</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_cl"><span class="id" title="definition">sym_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>   <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">cl</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
all program atoms 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="atoms_prog"><span class="id" title="definition">atoms_prog</span></a> <span class="id" title="var">p</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atoms_cl"><span class="id" title="definition">atoms_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">cl</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab70"></a><h2 class="section">Grounding</h2>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="Grounding"><span class="id" title="section">Grounding</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab71"></a><h3 class="section">Ground valuations and their application</h3>

<div class="paragraph"> </div>

 type of groundings: finitely-supported functions mapping variables to constants 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gr"><span class="id" title="definition">gr</span></a> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#finfun_finType"><span class="id" title="definition">finfun_finType</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ordinal_finType"><span class="id" title="definition">ordinal_finType</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#n"><span class="id" title="axiom">n</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#cons_finType"><span class="id" title="definition">cons_finType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">g</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gr"><span class="id" title="definition">gr</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">ra</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom"><span class="id" title="inductive">raw_atom</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">cl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>) (<span class="id" title="var">hd</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">tl</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>).<br/>

<br/>
</div>

<div class="doc">
term grounding 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gr_term"><span class="id" title="definition">gr_term</span></a> <span class="id" title="var">g</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="octalgo.datalogcert.syntax.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="octalgo.datalogcert.syntax.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
raw atom grounding 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gr_raw_atom"><span class="id" title="definition">gr_raw_atom</span></a> <span class="id" title="var">g</span> <span class="id" title="var">ra</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#RawGAtom"><span class="id" title="constructor">RawGAtom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ra"><span class="id" title="variable">ra</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gr_term"><span class="id" title="definition">gr_term</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">x</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ra"><span class="id" title="variable">ra</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
the grounding of a well-formed ground atom is well-formed 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gr_atom_proof"><span class="id" title="definition">gr_atom_proof</span></a> <span class="id" title="var">g</span> <span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#wf_gatom"><span class="id" title="definition">wf_gatom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_raw_atom"><span class="id" title="definition">gr_raw_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>).<br/>
 
<br/>
</div>

<div class="doc">
atom grounding 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gr_atom"><span class="id" title="definition">gr_atom</span></a> <span class="id" title="var">g</span> <span class="id" title="var">a</span> := <a class="idref" href="octalgo.datalogcert.syntax.html#GAtom"><span class="id" title="constructor">GAtom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_atom_proof"><span class="id" title="definition">gr_atom_proof</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>).<br/>

<br/>
</div>

<div class="doc">
Grounding on a list of atoms 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gr_tl"><span class="id" title="definition">gr_tl</span></a> <span class="id" title="var">g</span> (<span class="id" title="var">tl</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#map"><span class="id" title="definition">map</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_atom"><span class="id" title="definition">gr_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a>.<br/>

<br/>
</div>

<div class="doc">
clause grounding 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="gr_cl"><span class="id" title="definition">gr_cl</span></a> <span class="id" title="var">g</span> <span class="id" title="var">cl</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#GClause"><span class="id" title="constructor">GClause</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_atom"><span class="id" title="definition">gr_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#head_cl"><span class="id" title="definition">head_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>)) (<a class="idref" href="octalgo.octalgo.finseqs.html#wmap"><span class="id" title="definition">wmap</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_atom"><span class="id" title="definition">gr_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a>) (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>)).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#Grounding"><span class="id" title="section">Grounding</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Theory"><span class="id" title="section">Theory</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab72"></a><h3 class="section">Collecting Constants</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="Theory.Constants"><span class="id" title="section">Constants</span></a>.<br/>

<br/>
</div>

<div class="doc">
Extract constant from term (as a list of at most one element) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="const_term"><span class="id" title="definition">const_term</span></a> <span class="id" title="var">t</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="octalgo.datalogcert.syntax.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="var">e</span> <span class="id" title="keyword">then</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <span class="id" title="var">e</span><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a>.<br/>

<br/>
</div>

<div class="doc">
atom constants 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="const_atom"><span class="id" title="definition">const_atom</span></a> <span class="id" title="var">a</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#const_term"><span class="id" title="definition">const_term</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">x</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
atom list constants 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="const_tail"><span class="id" title="definition">const_tail</span></a> (<span class="id" title="var">tl</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#flatten"><span class="id" title="definition">flatten</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#const_atom"><span class="id" title="definition">const_atom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">x</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
clause constants 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="const_cl"><span class="id" title="definition">const_cl</span></a> <span class="id" title="var">cl</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">constant</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#const_tail"><span class="id" title="definition">const_tail</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">[::</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#head_cl"><span class="id" title="definition">head_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#Theory.Constants"><span class="id" title="section">Constants</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab73"></a><h3 class="section">Collecting Variables</h3>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="Theory.Variables"><span class="id" title="section">Variables</span></a>.<br/>

<br/>
</div>

<div class="doc">
term variables 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="term_vars"><span class="id" title="definition">term_vars</span></a> <span class="id" title="var">t</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="octalgo.datalogcert.syntax.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">is</span> <a class="idref" href="octalgo.datalogcert.syntax.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">v</span> <span class="id" title="keyword">then</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <span class="id" title="var">v</span><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a>.<br/>

<br/>
</div>

<div class="doc">
"raw" atom variables 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="raw_atom_vars"><span class="id" title="definition">raw_atom_vars</span></a> (<span class="id" title="var">ra</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom"><span class="id" title="inductive">raw_atom</span></a>) : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">bigcup_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ra"><span class="id" title="variable">ra</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">)</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
atom variables 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="atom_vars"><span class="id" title="definition">atom_vars</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a> := <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_vars"><span class="id" title="definition">raw_atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
</div>

<div class="doc">
atom list variables 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="tail_vars"><span class="id" title="definition">tail_vars</span></a> <span class="id" title="var">tl</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">bigcup_</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">(</span></a><span class="id" title="var">t</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#6831c3e6cae5ef17f89a485d9445f0cb"><span class="id" title="notation">)</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
</div>

<div class="doc">
Extract variables from a clauses (as a set) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="cl_vars"><span class="id" title="definition">cl_vars</span></a> (<span class="id" title="var">cl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>) : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a> := <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="raw_atom_vars_cons_sub"><span class="id" title="lemma">raw_atom_vars_cons_sub</span></a> <span class="id" title="var">g</span> <span class="id" title="var">args</span> <span class="id" title="var">h</span> :<br/>
<a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_vars"><span class="id" title="definition">raw_atom_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#args"><span class="id" title="variable">args</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_vars"><span class="id" title="definition">raw_atom_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#h"><span class="id" title="variable">h</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#args"><span class="id" title="variable">args</span></a>)).<br/>

<br/>
</div>

<div class="doc">
if <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span> in the variables of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span>, then <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span> is also a var of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a>::</span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="tail_vars_cons"><span class="id" title="lemma">tail_vars_cons</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">tl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tail_vars_sub_cons"><span class="id" title="lemma">tail_vars_sub_cons</span></a> <span class="id" title="var">a</span> <span class="id" title="var">tl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tail_vars_consUP"><span class="id" title="lemma">tail_vars_consUP</span></a> (<span class="id" title="var">tl</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a>.<br/>

<br/>
</div>

<div class="doc">
if <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span> is a variable of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> it is a variable of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a>::</span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="tail_vars_head"><span class="id" title="lemma">tail_vars_head</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">tl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a>).<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> is in the vars of a raw atom, adding a new term to the list of
  arguments does not change this fact (note raw atoms are untyped) 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="raw_atom_vars_cons"><span class="id" title="lemma">raw_atom_vars_cons</span></a> <span class="id" title="var">v</span> <span class="id" title="var">fa</span> <span class="id" title="var">args</span> <span class="id" title="var">h</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_vars"><span class="id" title="definition">raw_atom_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#fa"><span class="id" title="variable">fa</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#args"><span class="id" title="variable">args</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_vars"><span class="id" title="definition">raw_atom_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#RawAtom"><span class="id" title="constructor">RawAtom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#fa"><span class="id" title="variable">fa</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#h"><span class="id" title="variable">h</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#args"><span class="id" title="variable">args</span></a>)).<br/>

<br/>
</div>

<div class="doc">
If a var is in an atom and the atom in a body (list of atom),
   then the var is in the body 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="tailvars_trans"><span class="id" title="lemma">tailvars_trans</span></a> <span class="id" title="var">v</span> <span class="id" title="var">ato</span> <span class="id" title="var">tl</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ato"><span class="id" title="variable">ato</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ato"><span class="id" title="variable">ato</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tl"><span class="id" title="variable">tl</span></a>.<br/>

<br/>
</div>

<div class="doc">
The vars of an empty body is the empty set 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="tail_vars_nil"><span class="id" title="lemma">tail_vars_nil</span></a> : <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#0a934e621391740b862762275992e626"><span class="id" title="notation">[::]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="tail_vars_1"><span class="id" title="lemma">tail_vars_1</span></a> (<span class="id" title="var">a</span>:<a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) : <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">[::</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#506674b18256ef8f50efed43fa1dfd7d"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab74"></a><h2 class="section">Program Safety Condition</h2>

<div class="paragraph"> </div>

 clause safety: all head variables should appear among the body variables 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="safe_cl"><span class="id" title="definition">safe_cl</span></a> <span class="id" title="var">cl</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#head_cl"><span class="id" title="definition">head_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>).<br/>

<br/>
</div>

<div class="doc">
program safety: all clauses should be safe 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="prog_safe"><span class="id" title="definition">prog_safe</span></a> <span class="id" title="var">p</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#safe_cl"><span class="id" title="definition">safe_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab75"></a><h3 class="section">Safety of deduced facts (in the IDB) - added</h3>
 A clause has a safe head if its head predicate is of kind IDB 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="safe_cl_hd"><span class="id" title="definition">safe_cl_hd</span></a> <span class="id" title="var">cl</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#predtype"><span class="id" title="axiom">predtype</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#hsym_cl"><span class="id" title="definition">hsym_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#Idb"><span class="id" title="constructor">Idb</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="prog_safe_hds"><span class="id" title="definition">prog_safe_hds</span></a> <span class="id" title="var">p</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#safe_cl_hd"><span class="id" title="definition">safe_cl_hd</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
An interpretation is a "safe edb" if all its atoms have symbols
  of type edb 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="safe_edb"><span class="id" title="definition">safe_edb</span></a> <span class="id" title="var">i</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">∀</span></a> <span class="id" title="var">ga</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#predtype"><span class="id" title="axiom">predtype</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#Edb"><span class="id" title="constructor">Edb</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">]</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#Theory.Variables"><span class="id" title="section">Variables</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab76"></a><h3 class="section">No sharing of variables between clauses - added</h3>
 Clauses sharing variables 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="clauses_var_intersect"><span class="id" title="definition">clauses_var_intersect</span></a> (<span class="id" title="var">cl1</span> <span class="id" title="var">cl2</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl1"><span class="id" title="variable">cl1</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#b9596739b058766532fc6517a36fef9f"><span class="id" title="notation">:&amp;:</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl2"><span class="id" title="variable">cl2</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a>.<br/>

<br/>
</div>

<div class="doc">
Constraint on P: clauses sharing variables in a program would
   mean they are equals 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="vars_not_shared"><span class="id" title="definition">vars_not_shared</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#program"><span class="id" title="definition">program</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">∀</span></a> <span class="id" title="var">cl1</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#7406769ad390d6c18d532b497e931ef0"><span class="id" title="notation">,</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#7406769ad390d6c18d532b497e931ef0"><span class="id" title="notation">∀</span></a> <span class="id" title="var">cl2</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#7406769ad390d6c18d532b497e931ef0"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#clauses_var_intersect"><span class="id" title="definition">clauses_var_intersect</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl1"><span class="id" title="variable">cl1</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl2"><span class="id" title="variable">cl2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#cl1"><span class="id" title="variable">cl1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl2"><span class="id" title="variable">cl2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
If the constraint vars_not_shared is fullfilled on P and if we
   have a variable  v that is in both cl1 and cl2 clauses of P, then
   cl1 and cl2 are the same clause. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="vns_cl_eq"><span class="id" title="lemma">vns_cl_eq</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#program"><span class="id" title="definition">program</span></a>) (<span class="id" title="var">cl1</span> <span class="id" title="var">cl2</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>) (<span class="id" title="var">v</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl1"><span class="id" title="variable">cl1</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl2"><span class="id" title="variable">cl2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#cl1"><span class="id" title="variable">cl1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl2"><span class="id" title="variable">cl2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#vars_not_shared"><span class="id" title="definition">vars_not_shared</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl1"><span class="id" title="variable">cl1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl2"><span class="id" title="variable">cl2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="is_var"><span class="id" title="definition">is_var</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="octalgo.datalogcert.syntax.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="octalgo.datalogcert.syntax.html#Var"><span class="id" title="constructor">Var</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="only_variables_atom"><span class="id" title="definition">only_variables_atom</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#is_var"><span class="id" title="definition">is_var</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#a"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="only_variables_head"><span class="id" title="definition">only_variables_head</span></a> (<span class="id" title="var">cl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#only_variables_atom"><span class="id" title="definition">only_variables_atom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#head_cl"><span class="id" title="definition">head_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="only_variables_in_heads"><span class="id" title="definition">only_variables_in_heads</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#program"><span class="id" title="definition">program</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#only_variables_head"><span class="id" title="definition">only_variables_head</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab77"></a><h2 class="section">Program Satisfiability</h2>

<div class="paragraph"> </div>

 a clause <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#c"><span class="id" title="variable">c</span></a></span> is satisfied by an interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, if for all groundings <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#g"><span class="id" title="definition">g</span></a></span>
its corresponding instantiation is satisfied by <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="cl_true"><span class="id" title="definition">cl_true</span></a> <span class="id" title="var">cl</span> <span class="id" title="var">i</span> := <span class="id" title="keyword">∀</span> <span class="id" title="var">g</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gr"><span class="id" title="definition">gr</span></a>, <a class="idref" href="octalgo.datalogcert.syntax.html#gcl_true"><span class="id" title="definition">gcl_true</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_cl"><span class="id" title="definition">gr_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
</div>

<div class="doc">
A program is true in i, if all grounding of its clauses are  true 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="prog_true"><span class="id" title="definition">prog_true</span></a> <span class="id" title="var">p</span> <span class="id" title="var">i</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">g</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gr"><span class="id" title="definition">gr</span></a>, <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">cl</span> ⇒ <a class="idref" href="octalgo.datalogcert.syntax.html#gcl_true"><span class="id" title="definition">gcl_true</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_cl"><span class="id" title="definition">gr_cl</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="octalgo.datalogcert.syntax.html#p"><span class="id" title="variable">p</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.syntax.html#Theory"><span class="id" title="section">Theory</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>