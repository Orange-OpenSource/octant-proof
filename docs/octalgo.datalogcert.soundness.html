<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>octalgo.datalogcert.soundness</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">octalgo.datalogcert.soundness</h1>

<div class="code">
</div>

<div class="doc">
                                                                                                             The DatalogCert Library                                                                                                                           CNRS &amp; Université Paris-Sud, Université Paris-Saclay                                                                                                                         Copyright 2016-2019 : FormalData                                                                                                                   Original authors: Véronique Benzaken                                                               Évelyne Contejean                                                                Stefania Dumbrava                                                                                                                      
<div class="paragraph"> </div>

 This is the sixth part of the original file "pengine.v" with modifications 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.datalogcert.syntax.html#"><span class="id" title="library">syntax</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.datalogcert.subs.html#"><span class="id" title="library">subs</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.datalogcert.pmatch.html#"><span class="id" title="library">pmatch</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.datalogcert.bSemantics.html#"><span class="id" title="library">bSemantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.datalogcert.monotonicity.html#"><span class="id" title="library">monotonicity</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.third_party.bigop_aux.html#"><span class="id" title="library">bigop_aux</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.octalgo.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="octalgo.octalgo.finseqs.html#"><span class="id" title="library">finseqs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">s</span> <span class="id" title="var">r</span> : <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a>) (<span class="id" title="var">d</span> <span class="id" title="var">def</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">syntax.constant</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) (<span class="id" title="var">tl</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">cl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#interp"><span class="id" title="abbreviation">interp</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab102"></a><h1 class="section">Soundness of the standard semantics</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="Soundness"><span class="id" title="section">Soundness</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab103"></a><h2 class="section">Term Matching Soundness:</h2>

Let <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> be a term, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#d"><span class="id" title="variable">d</span></a></span> a constant and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> an arbitrary substitution.
If term matching outputs a substitution <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span>, extending <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> with the matching of <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#d"><span class="id" title="variable">d</span></a></span>, then
<span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> is indeed a solution, i.e, the instantiation of <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> equals <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#d"><span class="id" title="variable">d</span></a></span>.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_term_sound"><span class="id" title="lemma">match_term_sound</span></a> <span class="id" title="var">d</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span> : <a class="idref" href="octalgo.datalogcert.pmatch.html#match_term"><span class="id" title="definition">match_term</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sterm"><span class="id" title="definition">sterm</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a>.<br/>

<br/>
</div>

<div class="doc">
List Fold Soundness  <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.f"><span class="id" title="variable">f</span></a></span> takes a substitution and may give back a substitution (option) and is increaising in that case.
If we iterate <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.f"><span class="id" title="variable">f</span></a></span> over <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#l"><span class="id" title="variable">l</span></a></span> starting from <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#u"><span class="id" title="variable">u</span></a></span> with
<span class="inlinecode"><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldl"><span class="id" title="definition">foldl</span></a></span>, if we get a result, it is greater than
the original <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#u"><span class="id" title="variable">u</span></a></span> (which could not be None).
Reminder: <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#obind"><span class="id" title="abbreviation">obind</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode">(<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span> and
<span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#obind"><span class="id" title="abbreviation">obind</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.f"><span class="id" title="variable">f</span></a></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span> <span class="inlinecode">=</span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="foldl_0_gen"><span class="id" title="lemma">foldl_0_gen</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">u</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">f_pmon</span> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span>, <a class="idref" href="octalgo.datalogcert.soundness.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;: <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldl"><span class="id" title="definition">foldl</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">acc</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#obind"><span class="id" title="abbreviation">obind</span></a> (<a class="idref" href="octalgo.datalogcert.soundness.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
</div>

<div class="doc">
If iterating <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.pmatch.html#match_term"><span class="id" title="definition">match_term</span></a></span> over lists of atoms and ground atoms starting from <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#u"><span class="id" title="variable">u</span></a></span>, we obtain a substitution
r, then u was a substitution s (not None) and r greater
than s 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="foldl_0"><span class="id" title="lemma">foldl_0</span></a> <span class="id" title="var">gar</span> <span class="id" title="var">ar</span> <span class="id" title="var">u</span> <span class="id" title="var">r</span> :<br/>
&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldl"><span class="id" title="definition">foldl</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">acc</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#obind"><span class="id" title="abbreviation">obind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#20b75710d0541e9ffd06f8e723fd3daf"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#20b75710d0541e9ffd06f8e723fd3daf"><span class="id" title="notation">eta</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_term"><span class="id" title="definition">match_term</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#e0817251e7d67ad994b4d9b1aa82a412"><span class="id" title="notation">.1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#675082cc4d4538da052b547bdc6ea4c9"><span class="id" title="notation">.2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#20b75710d0541e9ffd06f8e723fd3daf"><span class="id" title="notation">]</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#u"><span class="id" title="variable">u</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gar"><span class="id" title="variable">gar</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ar"><span class="id" title="variable">ar</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
<a name="lab104"></a><h2 class="section">Atom Matching Soundness:</h2>

Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> be an atom, <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> a ground atom and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>, an arbitrary substitution.
If atom matching outputs a substitution <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span>, extending <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> with the matching of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span>, then
<span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> is indeed a solution, i.e, the instantiation of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> equals <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_sound"><span class="id" title="lemma">match_atom_sound</span></a> <span class="id" title="var">a</span> <span class="id" title="var">ga</span> <span class="id" title="var">s</span> <span class="id" title="var">r</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab105"></a><h2 class="section">Atom Matching Substitution Lemma:</h2>

If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s2"><span class="id" title="variable">s2</span></a></span> is the result of matching an atom <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> against
a ground atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span>, starting from an initial substitution <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s1"><span class="id" title="variable">s1</span></a></span>, then <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s2"><span class="id" title="variable">s2</span></a></span> is the extension of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s1"><span class="id" title="variable">s1</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_sub"><span class="id" title="lemma">match_atom_sub</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">s2</span> <span class="id" title="var">a</span> <span class="id" title="var">ga</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s2"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s2"><span class="id" title="variable">s2</span></a>.<br/>

<br/>
</div>

<div class="doc">
substitution domain: set of all variables it binds 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atoms_sub"><span class="id" title="lemma">match_atoms_sub</span></a> <span class="id" title="var">s1</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">∀</span></a> <span class="id" title="var">s2</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">in</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s1"><span class="id" title="variable">s1</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s2"><span class="id" title="variable">s2</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
For a grounding, no need of def. translation through the grounding
  or through the coresponding sub coincide. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="to_sub_grt"><span class="id" title="lemma">to_sub_grt</span></a> <span class="id" title="var">def</span> <span class="id" title="var">t</span> <span class="id" title="var">nu</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#gr_term_def"><span class="id" title="definition">gr_term_def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_sub"><span class="id" title="definition">to_sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#nu"><span class="id" title="variable">nu</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gr_term"><span class="id" title="definition">gr_term</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#nu"><span class="id" title="variable">nu</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
Same as above but for atom instead of terms. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="to_sub_gra"><span class="id" title="lemma">to_sub_gra</span></a> <span class="id" title="var">def</span> <span class="id" title="var">a</span> <span class="id" title="var">nu</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#gr_atom_def"><span class="id" title="definition">gr_atom_def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_sub"><span class="id" title="definition">to_sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#nu"><span class="id" title="variable">nu</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gr_atom"><span class="id" title="definition">gr_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#nu"><span class="id" title="variable">nu</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
</div>

<div class="doc">
If all vars of a term <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> (0 or 1) are in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>, then applying <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>
   on <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> gives a value
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sub_dom_grt"><span class="id" title="lemma">sub_dom_grt</span></a> <span class="id" title="var">t</span> <span class="id" title="var">s</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sterm"><span class="id" title="definition">sterm</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
</div>

<div class="doc">
Reflection view for the fact that the vars of a raw atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ra"><span class="id" title="variable">ra</span></a></span> are
   in the domain of substitution <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sub_dom_gra"><span class="id" title="lemma">sub_dom_gra</span></a> (<span class="id" title="var">ra</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom"><span class="id" title="inductive">raw_atom</span></a>) <span class="id" title="var">s</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">gra</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sraw_atom"><span class="id" title="definition">sraw_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ra"><span class="id" title="variable">ra</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_raw_atom"><span class="id" title="definition">to_raw_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gra"><span class="id" title="variable">gra</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="octalgo.datalogcert.syntax.html#raw_atom_vars"><span class="id" title="definition">raw_atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ra"><span class="id" title="variable">ra</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
</div>

<div class="doc">
If applying <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> gives a ground atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#gra"><span class="id" title="variable">gra</span></a></span> at the level
   of raw atoms, it also gives a raw atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sub_dom_raw"><span class="id" title="lemma">sub_dom_raw</span></a> <span class="id" title="var">a</span> <span class="id" title="var">s</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">gra</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#raw_gatom"><span class="id" title="inductive">raw_gatom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sraw_atom"><span class="id" title="definition">sraw_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_raw_atom"><span class="id" title="definition">to_raw_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gra"><span class="id" title="variable">gra</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>.<br/>

<br/>
</div>

<div class="doc">
Reflection view for fact that the vars of an atom <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> are
   in the domain of substitution <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sub_dom_ga"><span class="id" title="lemma">sub_dom_ga</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) <span class="id" title="var">s</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">ga</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> (<span class="id" title="var">ss</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>).<br/>

<br/>
</div>

<div class="doc">
Starting from a substitution <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span> and a list of atom <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span>,
  builds the set of all substitutions that match the interpretation
  <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="match_pbody"><span class="id" title="definition">match_pbody</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> <span class="id" title="var">ss0</span> := <a class="idref" href="octalgo.datalogcert.pmatch.html#foldS"><span class="id" title="definition">foldS</span></a> (<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a></span> increasing for set sub argument 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_pbody_incr"><span class="id" title="lemma">match_pbody_incr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">tl</span> <span class="id" title="var">ss1</span> <span class="id" title="var">ss2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#ss1"><span class="id" title="variable">ss1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss2"><span class="id" title="variable">ss2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss1"><span class="id" title="variable">ss1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss2"><span class="id" title="variable">ss2</span></a>.<br/>

<br/>
</div>

<div class="doc">
Reflection view on the inductive theorem associated with <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_pbody_cons"><span class="id" title="lemma">match_pbody_cons</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">ss0</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> (<a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#407cde5b61fbf27196d1a7c5a475e083"><span class="id" title="notation">::</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a>).<br/>
 
<br/>
</div>

<div class="doc">
Relates <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a></span> and <span class="inlinecode"><span class="id" title="var">pmatch.match_body</span></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_body_pbody"><span class="id" title="lemma">match_body_pbody</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#emptysub"><span class="id" title="definition">emptysub</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a></span> is smaller than <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> and undefined for <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span>, completing
  it with the binding of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> will still give a substitution
   smaller than <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sub_st_add"><span class="id" title="lemma">sub_st_add</span></a> <span class="id" title="var">v</span> <span class="id" title="var">d</span> <span class="id" title="var">s'</span> <span class="id" title="var">s</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
technical lemma. If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a></span> <span class="inlinecode">(<a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> <span class="inlinecode">::</span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#ll"><span class="id" title="variable">ll</span></a>)</span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#sp"><span class="id" title="variable">sp</span></a></span>, then
   <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> greater than <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#sp"><span class="id" title="variable">sp</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atoms_pbody"><span class="id" title="lemma">match_atoms_pbody</span></a> <span class="id" title="var">s</span> <span class="id" title="var">sp</span> <span class="id" title="var">ll</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span>:<br/>
<a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ll"><span class="id" title="variable">ll</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#sp"><span class="id" title="variable">sp</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab106"></a><h2 class="section">Term Matching Completeness:</h2>

Given a solution <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> to term-matching <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> w.r.t <span class="inlinecode"><a class="idref" href="octalgo.octalgo.finseqs.html#d"><span class="id" title="variable">d</span></a></span>,
for any sub-substitution <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a></span>, there exists an <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> that is a solution
 and also better/minimal w.r.t <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_term_complete"><span class="id" title="lemma">match_term_complete</span></a> <span class="id" title="var">d</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> :<br/>
&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sterm"><span class="id" title="definition">sterm</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_term"><span class="id" title="definition">match_term</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab107"></a><h2 class="section">Atom Matching Completeness:</h2>

Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> be an atom, <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> a ground atom and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> a substitution
that instantiates <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> to <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span>. Then, seeding the atom matching algorithm with <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a></span>, an arbitrary restriction
of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>, outputs a better matching solution than <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>, i.e, a substitution <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> that is smaller or equal to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_complete"><span class="id" title="lemma">match_atom_complete</span></a> <span class="id" title="var">ga</span> <span class="id" title="var">a</span> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> :<br/>
&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> be an atom, <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> a ground atom and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> a grounding. Instantiating <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> with the coercion of
<span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> equals the lifting of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> iff the grounding of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> equals <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="to_gr_atomP"><span class="id" title="lemma">to_gr_atomP</span></a> <span class="id" title="var">a</span> <span class="id" title="var">v</span> <span class="id" title="var">ga</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_sub"><span class="id" title="definition">to_sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">↔</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gr_atom"><span class="id" title="definition">gr_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a></span> be a substitution from init <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span> that is smaller than
   the grounding <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> such that applying it on the body of
   clause <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> gives atom member of interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, then the
   set of substitutions matching the body <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> for interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>
   starting from <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span> contains a substitution <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> smaller than <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_ptl_complete"><span class="id" title="lemma">match_ptl_complete</span></a> <span class="id" title="var">s'</span> <span class="id" title="var">ss0</span> <span class="id" title="var">i</span> <span class="id" title="var">cl</span> <span class="id" title="var">v</span> :<br/>
&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_sub"><span class="id" title="definition">to_sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="octalgo.datalogcert.syntax.html#body_gcl"><span class="id" title="definition">body_gcl</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_cl"><span class="id" title="definition">gr_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_sub"><span class="id" title="definition">to_sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a>).<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a></span> be a substitution from init <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span> that is smaller than
   <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>. Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> be such than applying <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> on a list of atom <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span>
   gives a list of ground atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#gtl"><span class="id" title="variable">gtl</span></a></span> contained in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>. Then
   matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> starting from substitution <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span> contains
   a substitution <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> smaller than <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_ptl_sub_complete"><span class="id" title="lemma">match_ptl_sub_complete</span></a> <span class="id" title="var">s</span> <span class="id" title="var">s'</span> <span class="id" title="var">ss0</span> <span class="id" title="var">i</span> <span class="id" title="var">tl</span> <span class="id" title="var">gtl</span> :<br/>
&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">ga</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
If applying the grounding <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> to the body of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> gives ground
  atoms in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, then matching the body of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>
  starting from the empty substitution contains a substitution <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span>
  smaller than <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_tl_complete"><span class="id" title="lemma">match_tl_complete</span></a> <span class="id" title="var">i</span> <span class="id" title="var">cl</span> <span class="id" title="var">v</span> :<br/>
&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="octalgo.datalogcert.syntax.html#body_gcl"><span class="id" title="definition">body_gcl</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#gr_cl"><span class="id" title="definition">gr_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">set</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#emptysub"><span class="id" title="definition">emptysub</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#f5e197738ea7c8e266850f6045418c3f"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_sub"><span class="id" title="definition">to_sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a>).<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span> be a substitution set. If <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> is in the result of extending substitutions in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span>
with bindings matching the <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> atom list against the ground atoms of an interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, then
there exists a substitution <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span> that <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> extends. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_all_sub"><span class="id" title="lemma">match_atom_all_sub</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">ss0</span> :<br/>
&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> in the result of extending substitutions in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a></span>
with bindings matching the <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> atom list against the ground atoms of an interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>.
Then, there exists a ground atom list <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#gtl"><span class="id" title="variable">gtl</span></a></span>, such that <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#gtl"><span class="id" title="variable">gtl</span></a></span> is the instantiation of <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span>
and all the atoms in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#gtl"><span class="id" title="variable">gtl</span></a></span> are in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_pbody_sound"><span class="id" title="lemma">match_pbody_sound</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> <span class="id" title="var">ss0</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss0"><span class="id" title="variable">ss0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">gtl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">ga</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab108"></a><h2 class="section">Lemmas on substitutions -- added</h2>

<div class="paragraph"> </div>

 Matching between inconsistent atom and gatom fail 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_dif_lengths"><span class="id" title="lemma">match_atom_dif_lengths</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a name="match_atom_diff_cons"><span class="id" title="lemma">match_atom_diff_cons</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a>) (<span class="id" title="var">j</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">c</span> <span class="id" title="var">d</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">syntax.constant</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="octalgo.octalgo.utils.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#c"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.octalgo.utils.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <br/>
<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="match_atom_diff_heads"><span class="id" title="lemma">match_atom_diff_heads</span></a> (<span class="id" title="var">s</span> : <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a>) (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="arg_c_match"><span class="id" title="lemma">arg_c_match</span></a> <span class="id" title="var">j</span> (<span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#atom"><span class="id" title="record">atom</span></a>) (<span class="id" title="var">ga</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gatom"><span class="id" title="record">gatom</span></a>) <span class="id" title="var">s</span> <span class="id" title="var">c</span> : <br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.octalgo.utils.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_atom"><span class="id" title="definition">arg_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#c"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.octalgo.utils.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#c"><span class="id" title="variable">c</span></a> <br/>
<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.octalgo.utils.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#c385a484ee9d1b4e0615924561a9b75e"><span class="id" title="notation">!=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="octalgo.octalgo.utils.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#arg_gatom"><span class="id" title="definition">arg_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
If s is the result of matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> on <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> starting with <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span>
   and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> a variable of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> domain, then either <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> was in
   the domain of <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> or <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> was a variable of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_dom"><span class="id" title="lemma">match_atom_dom</span></a> <span class="id" title="var">s</span> <span class="id" title="var">r</span> <span class="id" title="var">a</span> <span class="id" title="var">ga</span> <span class="id" title="var">v</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
</div>

<div class="doc">
For any <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the result of matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> on interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>
   starting with <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> a variable of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> domain, then either <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> was in
   the domain of <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> or <span class="inlinecode"><a class="idref" href="octalgo.octalgo.extract_static.html#Transformation.v"><span class="id" title="variable">v</span></a></span> was a variable of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_all_dom"><span class="id" title="lemma">match_atom_all_dom</span></a> <span class="id" title="var">s</span> <span class="id" title="var">r</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> <span class="id" title="var">v</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the result of matching the body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> starting
  with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#ss"><span class="id" title="variable">ss</span></a></span>, then the domain of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> is included in the union of the variables
  of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> and all the variables in the substitutions of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#ss"><span class="id" title="variable">ss</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="pmatch_subset_vars"><span class="id" title="lemma">pmatch_subset_vars</span></a> <span class="id" title="var">s</span> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> <span class="id" title="var">ss</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss"><span class="id" title="variable">ss</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">(</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">)</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#all_dom"><span class="id" title="definition">all_dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss"><span class="id" title="variable">ss</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
if <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the result of matching the body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, then the
  domain of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> is included in the variables of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_subset_vars"><span class="id" title="lemma">match_subset_vars</span></a> <span class="id" title="var">s</span> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a>.<br/>

<br/>
</div>

<div class="doc">
if <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the result of matching the body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> starting from
   <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#ss"><span class="id" title="variable">ss</span></a></span>, then there exists <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#ss"><span class="id" title="variable">ss</span></a></span> smaller than <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_pbody_sub"><span class="id" title="lemma">match_pbody_sub</span></a> <span class="id" title="var">s</span> <span class="id" title="var">i</span> <span class="id" title="var">tl</span> <span class="id" title="var">ss</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss"><span class="id" title="variable">ss</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f302e204901821a508e6d6d00228c0ed"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f302e204901821a508e6d6d00228c0ed"><span class="id" title="notation">∃</span></a> <span class="id" title="var">s'</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f302e204901821a508e6d6d00228c0ed"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss"><span class="id" title="variable">ss</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f302e204901821a508e6d6d00228c0ed"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the matching of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> starting from <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span>, then the
   variables of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> are in the domain of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atoms_vars_subset"><span class="id" title="lemma">match_atoms_vars_subset</span></a> <span class="id" title="var">s</span> <span class="id" title="var">r</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the matching of body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> starting from set <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#ss"><span class="id" title="variable">ss</span></a></span>,
  then the variables of the body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> are in the domain of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="pmatch_vars_subset"><span class="id" title="lemma">pmatch_vars_subset</span></a> <span class="id" title="var">s</span> <span class="id" title="var">ss</span> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss"><span class="id" title="variable">ss</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the matching of body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>,
  then the variables of the body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> are in the domain of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_vars_subset"><span class="id" title="lemma">match_vars_subset</span></a> <span class="id" title="var">s</span> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the matching of body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>,
  then the variables of the body <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> are the domain of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_vars_seteq"><span class="id" title="lemma">match_vars_seteq</span></a> <span class="id" title="var">s</span> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> be a safe interpretation, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> a safe program.
   Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> be in the semantics of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> starting from <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> after <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#m"><span class="id" title="variable">m</span></a></span> steps and <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span>
  symbol be intensional, then there exists a clause <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> whose head symbol is the
  head symbold of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span>, a substitution <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> for which the body of cl match with the
  (p-1) iteration of the semantics of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> from <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> is the result of
  applying <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> to the head of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span>
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="ga_ded"><span class="id" title="lemma">ga_ded</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#program"><span class="id" title="definition">program</span></a>) (<span class="id" title="var">def</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">syntax.constant</span></a>) (<span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#interp"><span class="id" title="abbreviation">interp</span></a>) <span class="id" title="var">ga</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#sem"><span class="id" title="definition">sem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#predtype"><span class="id" title="axiom">predtype</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#Idb"><span class="id" title="constructor">Idb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#safe_edb"><span class="id" title="definition">safe_edb</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#prog_safe"><span class="id" title="definition">prog_safe</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">cl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#hsym_cl"><span class="id" title="definition">hsym_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> (<a class="idref" href="octalgo.datalogcert.bSemantics.html#sem"><span class="id" title="definition">sem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#f953bf7095e0da1cb644443fd0e17d6d"><span class="id" title="notation">.-1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#head_cl"><span class="id" title="definition">head_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
If we apply <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a></span> to a clause <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> and then take a <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the result
   of matching the obtained body with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, if the domain of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a></span> was
   restricted to the variables of the body of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span>, then <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a></span>
   have no common variable in their domain. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_domsI"><span class="id" title="lemma">match_domsI</span></a> <span class="id" title="var">i</span> <span class="id" title="var">s</span> <span class="id" title="var">transub</span> <span class="id" title="var">cl</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#scl"><span class="id" title="definition">scl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>))<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">≤</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#b9596739b058766532fc6517a36fef9f"><span class="id" title="notation">:&amp;:</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#set0"><span class="id" title="definition">set0</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab109"></a><h2 class="section">Domains and variables of elements</h2>
 If applying <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> to a term <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> gives a constant, the variable of
  <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#t"><span class="id" title="variable">t</span></a></span> is included in the domain <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="r_dom_term"><span class="id" title="lemma">r_dom_term</span></a> <span class="id" title="var">d</span> <span class="id" title="var">t</span> <span class="id" title="var">r</span> : <a class="idref" href="octalgo.datalogcert.subs.html#sterm"><span class="id" title="definition">sterm</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#Val"><span class="id" title="constructor">Val</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term_vars"><span class="id" title="definition">term_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
</div>

<div class="doc">
If applying <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> to an atom <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> gives a ground atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span>, the variables
   of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> are included in the domain of <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="r_dom_atom"><span class="id" title="lemma">r_dom_atom</span></a> <span class="id" title="var">a</span> <span class="id" title="var">ga</span> <span class="id" title="var">r</span> : <a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#atom_vars"><span class="id" title="definition">atom_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="seq_inj"><span class="id" title="lemma">seq_inj</span></a> <span class="id" title="var">T</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="octalgo.datalogcert.soundness.html#T"><span class="id" title="variable">T</span></a>) (<span class="id" title="var">xs</span> <span class="id" title="var">ys</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#T"><span class="id" title="variable">T</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">[::</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#xs"><span class="id" title="variable">xs</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">[::</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ys"><span class="id" title="variable">ys</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#72c69ac2151566663801757b15a67c9e"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#xs"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ys"><span class="id" title="variable">ys</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
If applying <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> to a list of atom <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> gives a list of ground atom <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#gtl"><span class="id" title="variable">gtl</span></a></span>,
   the variables of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> are included in the domain of <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="r_dom_body"><span class="id" title="lemma">r_dom_body</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">gtl</span> <span class="id" title="var">r</span> : <a class="idref" href="octalgo.datalogcert.subs.html#stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">ga</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> in the result of matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, then applying
   <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> gives a sequence of ground atoms <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#gtl"><span class="id" title="variable">gtl</span></a></span> that are all in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_tl_sound"><span class="id" title="lemma">match_tl_sound</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">i</span> <span class="id" title="var">r</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">gtl</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">ga</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
<a name="lab110"></a><h2 class="section">Clause Consequence Soundness:</h2>

Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> be a safe clause and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> an interpretation.
If the clause consequence operator derives no new facts from <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span>, then <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> is a model for <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span>.
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="cons_cl_sound"><span class="id" title="lemma">cons_cl_sound</span></a> <span class="id" title="var">def</span> <span class="id" title="var">cl</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#safe_cl"><span class="id" title="definition">safe_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#cons_clause"><span class="id" title="definition">cons_clause</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#cl_true"><span class="id" title="definition">cl_true</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> .<br/>

<br/>
</div>

<div class="doc">
if <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a></span> domain is included in the variables of the body of a clause <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span>
and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the matching of the application of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a></span> to <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> with the
interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, then the composition of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> is in the
matching of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="subU_match"><span class="id" title="lemma">subU_match</span></a> (<span class="id" title="var">def</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">syntax.constant</span></a>) <span class="id" title="var">s</span> <span class="id" title="var">transub</span> <span class="id" title="var">i</span> <span class="id" title="var">cl</span> :<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.subs.html#dom"><span class="id" title="definition">dom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">)</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#tail_vars"><span class="id" title="definition">tail_vars</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>)<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">)</span></a><br/>
<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#scl"><span class="id" title="definition">scl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>))<br/>
<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#subU"><span class="id" title="definition">subU</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#transub"><span class="id" title="variable">transub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab111"></a><h2 class="section">Forward Chain Soundness:</h2>

Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> be a safe program and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> an interpretation.
If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> is the fixpoint of one iteration of forward chain, then <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> is a model for <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fwd_chain_sound"><span class="id" title="lemma">fwd_chain_sound</span></a> <span class="id" title="var">def</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#prog_safe"><span class="id" title="definition">prog_safe</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#prog_true"><span class="id" title="definition">prog_true</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> .<br/>

<br/>
</div>

<div class="doc">
Technical lemma: we can define a grounding of a term by applying
  a substitution <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> with a default <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.def"><span class="id" title="variable">def</span></a></span>, or we can complete the substitution
  to be a grounding using default <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.def"><span class="id" title="variable">def</span></a></span> and apply it to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>. In both cases, the
  result is the same 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="to_gr_sub"><span class="id" title="lemma">to_gr_sub</span></a> <span class="id" title="var">def</span> <span class="id" title="var">t</span> <span class="id" title="var">s</span> : <a class="idref" href="octalgo.datalogcert.subs.html#gr_term_def"><span class="id" title="definition">gr_term_def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gr_term"><span class="id" title="definition">gr_term</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_gr"><span class="id" title="definition">to_gr</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#t"><span class="id" title="variable">t</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
Same as above but on atom 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="gr_atom_defE"><span class="id" title="lemma">gr_atom_defE</span></a> <span class="id" title="var">def</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#gr_atom"><span class="id" title="definition">gr_atom</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_gr"><span class="id" title="definition">to_gr</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#gr_atom_def"><span class="id" title="definition">gr_atom_def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
</div>

<div class="doc">
If applying <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> to a list of atom <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> gives a list of ground atoms <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#gtl"><span class="id" title="variable">gtl</span></a></span>,
   and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> contains <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#gtl"><span class="id" title="variable">gtl</span></a></span>, then <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> contains the result of applying <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> completed
   to be a grounding to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span>.
  
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="tail_mem"><span class="id" title="lemma">tail_mem</span></a> <span class="id" title="var">def</span> <span class="id" title="var">s</span> <span class="id" title="var">tl</span> <span class="id" title="var">gtl</span> <span class="id" title="var">i</span> :<br/>
&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#stail"><span class="id" title="definition">stail</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#to_atom"><span class="id" title="definition">to_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">ga</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#gtl"><span class="id" title="variable">gtl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#all"><span class="id" title="definition">all</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#gr_atom"><span class="id" title="definition">gr_atom</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#to_gr"><span class="id" title="definition">to_gr</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">x</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab112"></a><h2 class="section">Clause Consequence Stability:</h2>

Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> be a clause and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> an interpretation satisfying <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#c"><span class="id" title="variable">c</span></a></span>.
Then, the clause consequence operator derives no new facts from <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="cons_cl_stable"><span class="id" title="lemma">cons_cl_stable</span></a> <span class="id" title="var">def</span> <span class="id" title="var">cl</span> <span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#cl_true"><span class="id" title="definition">cl_true</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#cons_clause"><span class="id" title="definition">cons_clause</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">\</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#4102da6205bd8605932488256a8bd517"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> be a program. Any interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> that is a model of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> is a fixpoint of one iteration of forward chain 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fwd_chain_stable"><span class="id" title="lemma">fwd_chain_stable</span></a> <span class="id" title="var">def</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#prog_true"><span class="id" title="definition">prog_true</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
</div>

<div class="doc">
Forward Chain reflection lemma: Given a safe program <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span>, an interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>
is a model of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> iff it is a fixpoint of one iteration of forward chain. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fwd_chainP"><span class="id" title="lemma">fwd_chainP</span></a> <span class="id" title="var">def</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> (<span class="id" title="var">p_safe</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#prog_safe"><span class="id" title="definition">prog_safe</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#reflect"><span class="id" title="abbreviation">reflect</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#prog_true"><span class="id" title="definition">prog_true</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#df45e8c2e8370fd4f0f7c4fdaf208180"><span class="id" title="notation">==</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>).<br/>

<br/>
</div>

<div class="doc">
Given a program <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> and an interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>. The symbols in the strict result (without <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>) of applying forward
chain on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> given <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> are among the head symbols of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="sym_pengine_subset_hsymp"><span class="id" title="lemma">sym_pengine_subset_hsymp</span></a> <span class="id" title="var">def</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">subset</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_i"><span class="id" title="definition">sym_i</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#160b1f5d5c3e3c6d274924649d717d8d"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#160b1f5d5c3e3c6d274924649d717d8d"><span class="id" title="notation">)</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#160b1f5d5c3e3c6d274924649d717d8d"><span class="id" title="notation">:\:</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">≤</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#hsym_prog"><span class="id" title="definition">hsym_prog</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#ca592708f529c7c7ee5f3dbd6cf93463"><span class="id" title="notation">}</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab113"></a><h2 class="section">Forward Chain Extensionality:</h2>

If two programs <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#p1"><span class="id" title="variable">p1</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#p2"><span class="id" title="variable">p2</span></a></span> are extensionally equal, then
the output of forward chain on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#p1"><span class="id" title="variable">p1</span></a></span> equals that on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#p2"><span class="id" title="variable">p2</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="eq_fwd_chain"><span class="id" title="lemma">eq_fwd_chain</span></a> <span class="id" title="var">def</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">=</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#1e6a438ff685c38fcd9034a94f271777"><span class="id" title="notation">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p2"><span class="id" title="variable">p2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p2"><span class="id" title="variable">p2</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab114"></a><h2 class="section">Forward Chain Decomposition:</h2>

The result of applying forward chain on the concatenation of
programs <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#p1"><span class="id" title="variable">p1</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#p2"><span class="id" title="variable">p2</span></a></span>, given an interpretation <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> equals the union of forward chain on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#p1"><span class="id" title="variable">p1</span></a></span> given <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>
with forward chain on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#p2"><span class="id" title="variable">p2</span></a></span> given <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fwd_chain_cat"><span class="id" title="lemma">fwd_chain_cat</span></a> <span class="id" title="var">def</span> <span class="id" title="var">p1</span> <span class="id" title="var">p2</span> <span class="id" title="var">i</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> (<a class="idref" href="octalgo.datalogcert.soundness.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#93e0a78b945d3f9f22195c004c67aa36"><span class="id" title="notation">++</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p2"><span class="id" title="variable">p2</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p1"><span class="id" title="variable">p1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p2"><span class="id" title="variable">p2</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>.<br/>
 
<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> be a ground atom in the output of applying forward chain on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span>, given <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>.
Then, either <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> is in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> or its symbol among the head symbols in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fwd_chain_sym"><span class="id" title="lemma">fwd_chain_sym</span></a> <span class="id" title="var">def</span> <span class="id" title="var">pp</span> <span class="id" title="var">i</span> <span class="id" title="var">ga</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#hsym_prog"><span class="id" title="definition">hsym_prog</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> be a ground atom in the output of iterating the application of forward chain on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span>,
given <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#k"><span class="id" title="variable">k</span></a></span> times. Then, either <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> is in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> or its symbol is among the head symbols in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="iter_fwd_chain_sym"><span class="id" title="lemma">iter_fwd_chain_sym</span></a> <span class="id" title="var">def</span> <span class="id" title="var">pp</span> <span class="id" title="var">i</span> <span class="id" title="var">ga</span> <span class="id" title="var">k</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#k"><span class="id" title="variable">k</span></a> (<a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.syntax.html#sym_gatom"><span class="id" title="definition">sym_gatom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#hsym_prog"><span class="id" title="definition">hsym_prog</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
Atom Matching Decomposition: 
Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span>, <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span> be two interpretations,
The substitution set extending a substitution <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> with bindings matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span>
against the union of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span> equals the union of the substitution set
extending <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> with bindings matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span> with that extending <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>
with bindings matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_allU"><span class="id" title="lemma">match_atom_allU</span></a> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> (<a class="idref" href="octalgo.datalogcert.soundness.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i2"><span class="id" title="variable">i2</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i2"><span class="id" title="variable">i2</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
Get the head symbols from a list of atoms 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="sym_tl"><span class="id" title="definition">sym_tl</span></a> <span class="id" title="var">tl</span> := <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.eqtype.html#val"><span class="id" title="projection">val</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">x</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a>.<br/>

<br/>
</div>

<div class="doc">
Atom Matching Modularity: 
Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span>, <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span> be two interpretations.
If the symbol of an atom <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> does not appear among those in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span>, then
extending a substitution <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#nu"><span class="id" title="variable">nu</span></a></span> with bindings matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> against the union of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span>
equals that of extending <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#nu"><span class="id" title="variable">nu</span></a></span> with bindings matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_atom_all_strata"><span class="id" title="lemma">match_atom_all_strata</span></a> <span class="id" title="var">nu</span> <span class="id" title="var">a</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.syntax.html#sym_atom"><span class="id" title="definition">sym_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#c1ad6bcc76a6221225111f87bc3b0c3d"><span class="id" title="notation">notin</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#sym_i"><span class="id" title="definition">sym_i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i2"><span class="id" title="variable">i2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> (<a class="idref" href="octalgo.datalogcert.soundness.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i2"><span class="id" title="variable">i2</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#nu"><span class="id" title="variable">nu</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom_all"><span class="id" title="definition">match_atom_all</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#nu"><span class="id" title="variable">nu</span></a>.<br/>

<br/>
</div>

<div class="doc">
Body Matching Modularity: 
Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> be an atom list and <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span>, <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span> interpretations.
If the symbols in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> do not appear in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span>, then the result of matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against
the union of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i2"><span class="id" title="variable">i2</span></a></span> equals the result of matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span> against <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.monotonicity.html#i1"><span class="id" title="variable">i1</span></a></span>. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_body_strata"><span class="id" title="lemma">match_body_strata</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#disjoint"><span class="id" title="definition">disjoint</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> (<a class="idref" href="octalgo.datalogcert.soundness.html#sym_tl"><span class="id" title="definition">sym_tl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_i"><span class="id" title="definition">sym_i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i2"><span class="id" title="variable">i2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> (<a class="idref" href="octalgo.datalogcert.soundness.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i2"><span class="id" title="variable">i2</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">SET</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab115"></a><h2 class="section">Forward Chain Modularity:</h2>

Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> be a program and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ip"><span class="id" title="variable">ip</span></a></span> interpretations.
If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> is a model for <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> and the symbols in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span> do not appear in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ip"><span class="id" title="variable">ip</span></a></span>, then the
result of applying forward chain on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.p"><span class="id" title="variable">p</span></a></span>, starting from the union of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ip"><span class="id" title="variable">ip</span></a></span>
adds no new facts. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="fwd_chain_mod"><span class="id" title="lemma">fwd_chain_mod</span></a> <span class="id" title="var">def</span> <span class="id" title="var">pp</span> <span class="id" title="var">i</span> <span class="id" title="var">ip</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h_tr</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#prog_true"><span class="id" title="definition">prog_true</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">h_strata</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#disjoint"><span class="id" title="definition">disjoint</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_prog"><span class="id" title="definition">sym_prog</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#mem"><span class="id" title="definition">mem</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#sym_i"><span class="id" title="definition">sym_i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ip"><span class="id" title="variable">ip</span></a>))) :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a> (<a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ip"><span class="id" title="variable">ip</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#3bfdad100117c55128c8f4e205b0209b"><span class="id" title="notation">:|:</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ip"><span class="id" title="variable">ip</span></a>.<br/>

<br/>
</div>

<div class="doc">
Lemmas about forward chain iteration. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="iter_fwd_chain_stable"><span class="id" title="lemma">iter_fwd_chain_stable</span></a> <span class="id" title="var">def</span> <span class="id" title="var">pp</span> <span class="id" title="var">i</span> <span class="id" title="var">k</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">h_tr</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#prog_true"><span class="id" title="definition">prog_true</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.ssrnat.html#iter"><span class="id" title="definition">iter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#k"><span class="id" title="variable">k</span></a> (<a class="idref" href="octalgo.datalogcert.bSemantics.html#fwd_chain"><span class="id" title="definition">fwd_chain</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#pp"><span class="id" title="variable">pp</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab116"></a><h2 class="section">Auxiliary lemmas - Added</h2>
 If we start from <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#sp"><span class="id" title="variable">sp</span></a></span> augmented with <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#y"><span class="id" title="variable">y</span></a></span>, then after folding <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.pmatch.html#match_term"><span class="id" title="definition">match_term</span></a></span>
  on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#l1"><span class="id" title="variable">l1</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#l2"><span class="id" title="variable">l2</span></a></span> (terms and ground terms), if we succeed, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> the result
  contains the binding <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode">→</span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#y"><span class="id" title="variable">y</span></a></span> 
<div class="paragraph"> </div>

 Starting from substitution <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#sp"><span class="id" title="variable">sp</span></a></span>. If <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#sp"><span class="id" title="variable">sp</span></a></span> binds <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#vat"><span class="id" title="variable">vat</span></a></span> to term <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#c"><span class="id" title="variable">c</span></a></span>,
   after iterating on <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#tlg"><span class="id" title="variable">tlg</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.octalgo.fintrees.html#tl"><span class="id" title="variable">tl</span></a></span>, the result <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> contains the same
   binding. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_term_head_some"><span class="id" title="lemma">match_term_head_some</span></a> <span class="id" title="var">s</span> <span class="id" title="var">sp</span> <span class="id" title="var">gat</span> <span class="id" title="var">vat</span> <span class="id" title="var">tlg</span> (<span class="id" title="var">tl</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#seq"><span class="id" title="abbreviation">seq</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldl"><span class="id" title="definition">foldl</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<span class="id" title="var">acc</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">ffun</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">syntax.constant</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">syntax.constant</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#obind"><span class="id" title="abbreviation">obind</span></a> (<a class="idref" href="octalgo.datalogcert.pmatch.html#match_term"><span class="id" title="definition">match_term</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#e0817251e7d67ad994b4d9b1aa82a412"><span class="id" title="notation">.1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#675082cc4d4538da052b547bdc6ea4c9"><span class="id" title="notation">.2</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#acc"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="octalgo.datalogcert.pmatch.html#match_term"><span class="id" title="definition">match_term</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#gat"><span class="id" title="variable">gat</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#Var"><span class="id" title="constructor">Var</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#vat"><span class="id" title="variable">vat</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#sp"><span class="id" title="variable">sp</span></a>) (<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tlg"><span class="id" title="variable">tlg</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#tl"><span class="id" title="variable">tl</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#vat"><span class="id" title="variable">vat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#c"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#vat"><span class="id" title="variable">vat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#c"><span class="id" title="variable">c</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a name="fold_add_mapsto"><span class="id" title="lemma">fold_add_mapsto</span></a> <span class="id" title="var">s</span> <span class="id" title="var">sp</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#foldl"><span class="id" title="definition">foldl</span></a> (<span class="id" title="keyword">fun</span> (<span class="id" title="var">acc</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">ffun</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">syntax.constant</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finfun.html#31493a873acc18a8368490ef56022c0c"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">p</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#constant"><span class="id" title="inductive">syntax.constant</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="octalgo.datalogcert.syntax.html#term"><span class="id" title="inductive">term</span></a>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#obind"><span class="id" title="abbreviation">obind</span></a> (<a class="idref" href="octalgo.datalogcert.pmatch.html#match_term"><span class="id" title="definition">match_term</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#e0817251e7d67ad994b4d9b1aa82a412"><span class="id" title="notation">.1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrfun.html#675082cc4d4538da052b547bdc6ea4c9"><span class="id" title="notation">.2</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#acc"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#l2"><span class="id" title="variable">l2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span> be a set of vars, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t1"><span class="id" title="variable">t1</span></a></span> its complement,
  Let <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span> be the substitution
  matching <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> that extends <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#sp"><span class="id" title="variable">sp</span></a></span>, let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> be an extension of <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span>, if
  we substitute the restriction of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t1"><span class="id" title="variable">t1</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#a"><span class="id" title="variable">a</span></a></span> and match the result with
  <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#ga"><span class="id" title="variable">ga</span></a></span> starting from <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.subs.html#sp"><span class="id" title="variable">sp</span></a></span> restricted to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span>, then the substitution we obtain
  is <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#x"><span class="id" title="variable">x</span></a></span> restricted to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span>. In other word the binding of variables added by <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> that were
  outside <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span> do not influence the matching. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="only_untyped_match"><span class="id" title="lemma">only_untyped_match</span></a> <span class="id" title="var">x</span> <span class="id" title="var">s</span> <span class="id" title="var">sp</span> <span class="id" title="var">a</span> <span class="id" title="var">ga</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">disjoint</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub_st"><span class="id" title="definition">sub_st</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a><br/>
<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#sub_filter"><span class="id" title="definition">sub_filter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_atom"><span class="id" title="definition">match_atom</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#sub_filter"><span class="id" title="definition">sub_filter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a>) (<a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#sub_filter"><span class="id" title="definition">sub_filter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a>)) <a class="idref" href="octalgo.datalogcert.soundness.html#ga"><span class="id" title="variable">ga</span></a>.<br/>

<br/>
</div>

<div class="doc">
Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span> be a set of vars, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t1"><span class="id" title="variable">t1</span></a></span> its complement, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> be a substitution matching
 the body <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#l"><span class="id" title="variable">l</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> starting from <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss1"><span class="id" title="variable">ss1</span></a></span>.
  Let <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss1"><span class="id" title="variable">ss1</span></a></span> and <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss2"><span class="id" title="variable">ss2</span></a></span> be set of substitution, such that any restriction of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>
  in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss1"><span class="id" title="variable">ss1</span></a></span> verifies that its restriction to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span> is in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss2"><span class="id" title="variable">ss2</span></a></span>.
  Then matching the body resulting from subsituting the restriction of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>
  to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t1"><span class="id" title="variable">t1</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#l"><span class="id" title="variable">l</span></a></span>, on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> starting from <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.soundness.html#ss2"><span class="id" title="variable">ss2</span></a></span> contains the same restriction of
  <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="untyped_in_scl_match_pbody"><span class="id" title="lemma">untyped_in_scl_match_pbody</span></a> <span class="id" title="var">l</span> <span class="id" title="var">i</span> <span class="id" title="var">s</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) (<span class="id" title="var">ss1</span> <span class="id" title="var">ss2</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">∀</span></a> <span class="id" title="var">s'</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss1"><span class="id" title="variable">ss1</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.subs.html#sub_filter"><span class="id" title="definition">sub_filter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#pred_of_set"><span class="id" title="abbreviation">pred_of_set</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss2"><span class="id" title="variable">ss2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#a133e82bab56729f895f9b2b31e837cd"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#9b40a7420e06ba2a775d87b43bd1c69f"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss1"><span class="id" title="variable">ss1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">disjoint</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.subs.html#sub_filter"><span class="id" title="definition">sub_filter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#match_pbody"><span class="id" title="definition">match_pbody</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">seq</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#satom"><span class="id" title="definition">satom</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#sub_filter"><span class="id" title="definition">sub_filter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a>) <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">|</span></a> <span class="id" title="var">a</span> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.seq.html#dcd18413b33436252c77b6c6465f02bc"><span class="id" title="notation">]</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#ss2"><span class="id" title="variable">ss2</span></a>.<br/>

<br/>
</div>

<div class="doc">
 Let <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span> be a set of vars, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t1"><span class="id" title="variable">t1</span></a></span> its complement, <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> be a substitution matching
 the body of clause <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>.
  Then matching the body resulting from subsituting the restriction of <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>
  to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t1"><span class="id" title="variable">t1</span></a></span> in <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span>, on <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> contains the restriction of
  <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> to <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#t2"><span class="id" title="variable">t2</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="untyped_in_scl_match_body"><span class="id" title="lemma">untyped_in_scl_match_body</span></a> <span class="id" title="var">cl</span> <span class="id" title="var">i</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> : <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">{</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">set</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">'</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#545d9d6249a673300f950a2a8b8a930b"><span class="id" title="notation">I_n</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.finset.html#d8708f36d374a98f4d683c7593d1ea6a"><span class="id" title="notation">}</span></a>) : <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">disjoint</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#1c170b7d9dd618ec64d5610e390a3afe"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">[</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">∀</span></a> <span class="id" title="var">y</span><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">,</span></a> <a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.soundness.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#f3be25edeb0349b0a76405eded9d0b98"><span class="id" title="notation">)</span></a><a class="idref" href="https://math-comp.github.io/htmldoc//mathcomp.ssreflect.fintype.html#ce8c9a990e3e773a56ef37417d3761c6"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">(</span></a><a class="idref" href="octalgo.datalogcert.subs.html#sub_filter"><span class="id" title="definition">sub_filter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t2"><span class="id" title="variable">t2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#scl"><span class="id" title="definition">scl</span></a> (<a class="idref" href="octalgo.datalogcert.subs.html#sub_filter"><span class="id" title="definition">sub_filter</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#t1"><span class="id" title="variable">t1</span></a>) <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>)).<br/>

<br/>
</div>

<div class="doc">
<a name="lab117"></a><h2 class="section">Correspondence between constructive and boolean matches -- added</h2>
 If <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> in the result of matching the body of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span>, then <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.pmatch.html#bmatch"><span class="id" title="definition">bmatch</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.def"><span class="id" title="variable">def</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>
succeeds 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="match_body_bmatch"><span class="id" title="lemma">match_body_bmatch</span></a> <span class="id" title="var">def</span> (<span class="id" title="var">cl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">s</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#bmatch"><span class="id" title="definition">bmatch</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
</div>

<div class="doc">
If <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.pmatch.html#bmatch"><span class="id" title="definition">bmatch</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.def"><span class="id" title="variable">def</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span> succeeds, then there is a substitution <span class="inlinecode"><a class="idref" href="octalgo.third_party.bigop_aux.html#r"><span class="id" title="variable">r</span></a></span> smaller than <span class="inlinecode"><a class="idref" href="octalgo.octalgo.utils.html#s"><span class="id" title="variable">s</span></a></span>
   in the result of matching the body of <span class="inlinecode"><a class="idref" href="octalgo.datalogcert.syntax.html#cl"><span class="id" title="variable">cl</span></a></span> with <span class="inlinecode"><a class="idref" href="octalgo.octalgo.projection.html#Projection.i"><span class="id" title="variable">i</span></a></span> 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a name="bmatch_match_body"><span class="id" title="lemma">bmatch_match_body</span></a> <span class="id" title="var">def</span> (<span class="id" title="var">cl</span> : <a class="idref" href="octalgo.datalogcert.syntax.html#clause"><span class="id" title="inductive">clause</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">s</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.pmatch.html#bmatch"><span class="id" title="definition">bmatch</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#def"><span class="id" title="variable">def</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">:</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#sub"><span class="id" title="definition">sub</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">\</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.ssr.ssrbool.html#b09457274bcb94927e289b8a9e9cd3f7"><span class="id" title="notation">in</span></a> <a class="idref" href="octalgo.datalogcert.pmatch.html#match_body"><span class="id" title="definition">match_body</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="octalgo.datalogcert.syntax.html#body_cl"><span class="id" title="definition">body_cl</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#cl"><span class="id" title="variable">cl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.1/stdlib//Coq.Init.Logic.html#59ba2b47d2814e66f8210a649ae6e6bc"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">\</span></a><a class="idref" href="octalgo.datalogcert.subs.html#720926d502a5306a0af0f43d9c795cff"><span class="id" title="notation">sub</span></a> <a class="idref" href="octalgo.datalogcert.soundness.html#s"><span class="id" title="variable">s</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="octalgo.datalogcert.soundness.html#Soundness"><span class="id" title="section">Soundness</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>